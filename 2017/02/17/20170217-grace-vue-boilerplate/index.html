<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="utf-8">
    
    <title>å‰åç«¯åˆ†ç¦»ä¹‹è·¯ - Vue2é¡¹ç›®å¤šå…¥å£æ¨¡æ¿æ”¹é€ æ–¹æ¡ˆ | Thunf&#39;Blog</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="åšå‰åç«¯åˆ†ç¦»ä¹Ÿæœ‰ä¸€æ®µæ—¶é—´äº†ï¼Œéœ€è¦å‡çº§ä¸€ä¸‹é¡¹ç›®å¤šå…¥å£çš„æ„å»ºæ–¹æ¡ˆåˆ° Vue@2.xã€‚é¡¹ç›®æ¨¡æ¿æ²¡æœ‰é€‰æ‹©é‡æ–°å¼€å‘ï¼Œè€Œæ˜¯ç›´æ¥é€‰ç”¨äº† vue å®˜æ–¹æ¨¡æ¿ vuejs-templates/webpackã€‚ç°åœ¨æˆ‘ä»¬éœ€è¦æŠŠè¿™ä¸ª SPA å•å…¥å£æ¨¡æ¿æ”¹æˆå¤šå…¥å£ï¼Œå¹¶ä¸”ä¿®æ”¹æ·»åŠ ä¸€äº›å¼€å‘åŠŸèƒ½ï¼Œä»¥é…åˆ Koa-grace æ—¶çš„å¼€å‘æµç¨‹ã€‚">
<meta property="og:type" content="article">
<meta property="og:title" content="å‰åç«¯åˆ†ç¦»ä¹‹è·¯ - Vue2é¡¹ç›®å¤šå…¥å£æ¨¡æ¿æ”¹é€ æ–¹æ¡ˆ">
<meta property="og:url" content="//thunf.cn/2017/02/17/20170217-grace-vue-boilerplate/index.html">
<meta property="og:site_name" content="Thunf'Blog">
<meta property="og:description" content="åšå‰åç«¯åˆ†ç¦»ä¹Ÿæœ‰ä¸€æ®µæ—¶é—´äº†ï¼Œéœ€è¦å‡çº§ä¸€ä¸‹é¡¹ç›®å¤šå…¥å£çš„æ„å»ºæ–¹æ¡ˆåˆ° Vue@2.xã€‚é¡¹ç›®æ¨¡æ¿æ²¡æœ‰é€‰æ‹©é‡æ–°å¼€å‘ï¼Œè€Œæ˜¯ç›´æ¥é€‰ç”¨äº† vue å®˜æ–¹æ¨¡æ¿ vuejs-templates/webpackã€‚ç°åœ¨æˆ‘ä»¬éœ€è¦æŠŠè¿™ä¸ª SPA å•å…¥å£æ¨¡æ¿æ”¹æˆå¤šå…¥å£ï¼Œå¹¶ä¸”ä¿®æ”¹æ·»åŠ ä¸€äº›å¼€å‘åŠŸèƒ½ï¼Œä»¥é…åˆ Koa-grace æ—¶çš„å¼€å‘æµç¨‹ã€‚">
<meta property="og:image" content="//thunf.cn//cdn.thunf.cn/20170217215907.jpg">
<meta property="og:updated_time" content="2018-01-16T18:10:14.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="å‰åç«¯åˆ†ç¦»ä¹‹è·¯ - Vue2é¡¹ç›®å¤šå…¥å£æ¨¡æ¿æ”¹é€ æ–¹æ¡ˆ">
<meta name="twitter:description" content="åšå‰åç«¯åˆ†ç¦»ä¹Ÿæœ‰ä¸€æ®µæ—¶é—´äº†ï¼Œéœ€è¦å‡çº§ä¸€ä¸‹é¡¹ç›®å¤šå…¥å£çš„æ„å»ºæ–¹æ¡ˆåˆ° Vue@2.xã€‚é¡¹ç›®æ¨¡æ¿æ²¡æœ‰é€‰æ‹©é‡æ–°å¼€å‘ï¼Œè€Œæ˜¯ç›´æ¥é€‰ç”¨äº† vue å®˜æ–¹æ¨¡æ¿ vuejs-templates/webpackã€‚ç°åœ¨æˆ‘ä»¬éœ€è¦æŠŠè¿™ä¸ª SPA å•å…¥å£æ¨¡æ¿æ”¹æˆå¤šå…¥å£ï¼Œå¹¶ä¸”ä¿®æ”¹æ·»åŠ ä¸€äº›å¼€å‘åŠŸèƒ½ï¼Œä»¥é…åˆ Koa-grace æ—¶çš„å¼€å‘æµç¨‹ã€‚">
<meta name="twitter:image" content="//thunf.cn//cdn.thunf.cn/20170217215907.jpg">
    

    

    
        <link rel="icon" href="/favicon.ico" />
    

    <link rel="stylesheet" href="/vendor/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="/vendor/open-sans/styles.css">
    <link rel="stylesheet" href="/vendor/source-code-pro/styles.css">

    <link rel="stylesheet" href="/css/style.css">

    <script src="/vendor/jquery/2.1.3/jquery.min.js"></script>
    
    
        <link rel="stylesheet" href="/vendor/fancybox/jquery.fancybox.css">
    
    
    
    

</head>
<body>
    <div id="container">
        <header id="header">
    <div id="header-main" class="header-inner">
        <div class="outer">
            <a href="/" id="logo">
                
                <span class="site-title">Thunf&#39;Blog</span>
            </a>
            <nav id="main-nav">
                
                    <a class="main-nav-link" href="/.">ä¸»é¡µ</a>
                
                    <a class="main-nav-link" href="/archives">åˆ—è¡¨</a>
                
                    <a class="main-nav-link" href="/tags">æ ‡ç­¾</a>
                
                    <a class="main-nav-link" href="/about">å…³äº</a>
                
            </nav>
            
                
                <nav id="sub-nav">
                    <div class="profile" id="profile-nav">
                        <a id="profile-anchor" href="javascript:;">
                            <img class="avatar" src="/css/images/avatar.png" />
                            <i class="fa fa-caret-down"></i>
                        </a>
                    </div>
                </nav>
            
            <div id="search-form-wrap">

    <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="æœç´¢"><button type="submit" class="search-form-submit"> </button><input type="hidden" name="sitesearch" value="//thunf.cn"></form>

</div>
        </div>
    </div>
    <div id="main-nav-mobile" class="header-sub header-inner">
        <table class="menu outer">
            <tr>
                
                    <td><a class="main-nav-link" href="/.">ä¸»é¡µ</a></td>
                
                    <td><a class="main-nav-link" href="/archives">åˆ—è¡¨</a></td>
                
                    <td><a class="main-nav-link" href="/tags">æ ‡ç­¾</a></td>
                
                    <td><a class="main-nav-link" href="/about">å…³äº</a></td>
                
                <td>
                    
    <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="æœç´¢"><input type="hidden" name="sitesearch" value="//thunf.cn"></form>

                </td>
            </tr>
        </table>
    </div>
</header>

        <div class="outer">
            <section id="main"><article id="post-20170217-grace-vue-boilerplate" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
        
            <header class="article-header">
                
    
        <h1 class="article-title" itemprop="name">
            å‰åç«¯åˆ†ç¦»ä¹‹è·¯ - Vue2é¡¹ç›®å¤šå…¥å£æ¨¡æ¿æ”¹é€ æ–¹æ¡ˆ
        </h1>
    

                <div class="article-meta">
                    
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/2017/02/17/20170217-grace-vue-boilerplate/">
            <time datetime="2017-02-17T13:59:07.000Z" itemprop="datePublished">2017-02-17</time>
        </a>
    </div>


                    
                    
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/boilerplate/">boilerplate</a>, <a class="tag-link" href="/tags/koa-grace/">koa-grace</a>, <a class="tag-link" href="/tags/vue/">vue</a>
    </div>

                    
                    <span id="busuanzi_container_page_pv" class="right">
                        å·²è¢«å›´è§‚<span id="busuanzi_value_page_pv"></span>æ¬¡
                    </span>
                    
                </div>

            </header>
        
        <div class="article-entry" itemprop="articleBody">
        
            
                <div id="toc" class="toc-article">
                <strong class="toc-title">æ–‡ç« ç›®å½•</strong>
                    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#å…³äºé¡¹ç›®æ¨¡æ¿"><span class="toc-number">1.</span> <span class="toc-text">å…³äºé¡¹ç›®æ¨¡æ¿</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#å…³äºç›®å½•ç»“æ„"><span class="toc-number">2.</span> <span class="toc-text">å…³äºç›®å½•ç»“æ„</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#å…³äºå¤šå…¥å£ï¼ˆMultiple-Entryï¼‰"><span class="toc-number">3.</span> <span class="toc-text">å…³äºå¤šå…¥å£ï¼ˆMultiple Entryï¼‰</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#å…³äºæ–‡ä»¶äº§å‡ºï¼ˆFiles-Outputï¼‰"><span class="toc-number">4.</span> <span class="toc-text">å…³äºæ–‡ä»¶äº§å‡ºï¼ˆFiles Outputï¼‰</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#äº§å‡ºè§„åˆ™åŠéœ€æ±‚"><span class="toc-number">4.1.</span> <span class="toc-text">äº§å‡ºè§„åˆ™åŠéœ€æ±‚</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#äº§å‡ºhtmlå…¥å£æ–‡ä»¶"><span class="toc-number">4.2.</span> <span class="toc-text">äº§å‡ºhtmlå…¥å£æ–‡ä»¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#äº§å‡ºjs-cssé™æ€èµ„æº"><span class="toc-number">4.3.</span> <span class="toc-text">äº§å‡ºjs/cssé™æ€èµ„æº</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#æ–‡ä»¶åŠ æˆ³ï¼šQuery-or-fileName"><span class="toc-number">4.4.</span> <span class="toc-text">æ–‡ä»¶åŠ æˆ³ï¼šQuery or fileName</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#å…¶ä»–èµ„æºè·¯å¾„é—®é¢˜"><span class="toc-number">4.5.</span> <span class="toc-text">å…¶ä»–èµ„æºè·¯å¾„é—®é¢˜</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#ç”Ÿæˆå›¾ç‰‡å¼•ç”¨è·¯å¾„"><span class="toc-number">4.5.1.</span> <span class="toc-text">ç”Ÿæˆå›¾ç‰‡å¼•ç”¨è·¯å¾„</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#å›¾ç‰‡èµ„æºå¼•ç”¨æ–¹å¼"><span class="toc-number">4.5.2.</span> <span class="toc-text">å›¾ç‰‡èµ„æºå¼•ç”¨æ–¹å¼</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#å…³äºæå‡å¼€å‘æ•ˆç‡"><span class="toc-number">5.</span> <span class="toc-text">å…³äºæå‡å¼€å‘æ•ˆç‡</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#è‡ªåŠ¨é…ç½®å¼€å‘ç¯å¢ƒ"><span class="toc-number">5.1.</span> <span class="toc-text">è‡ªåŠ¨é…ç½®å¼€å‘ç¯å¢ƒ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#è‡ªåŠ¨æ‰“å¼€é¡¹ç›®é¦–é¡µ"><span class="toc-number">5.2.</span> <span class="toc-text">è‡ªåŠ¨æ‰“å¼€é¡¹ç›®é¦–é¡µ</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#å…³äºESLint"><span class="toc-number">6.</span> <span class="toc-text">å…³äºESLint</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#æ£€æŸ¥ä½ çš„ä»£ç "><span class="toc-number">6.1.</span> <span class="toc-text">æ£€æŸ¥ä½ çš„ä»£ç </span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ç¿»ä¸€ç¿»æ–‡æ¡£"><span class="toc-number">6.2.</span> <span class="toc-text">ç¿»ä¸€ç¿»æ–‡æ¡£</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#é…ç½®extends-rules"><span class="toc-number">6.2.1.</span> <span class="toc-text">é…ç½®extends/rules</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#é…ç½®failOnWarning"><span class="toc-number">6.2.2.</span> <span class="toc-text">é…ç½®failOnWarning</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ä¸æƒ³ç”¨å°±åˆ«ç¡¬ç”¨"><span class="toc-number">6.3.</span> <span class="toc-text">ä¸æƒ³ç”¨å°±åˆ«ç¡¬ç”¨</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#å…¶ä»–é—®é¢˜"><span class="toc-number">7.</span> <span class="toc-text">å…¶ä»–é—®é¢˜</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#æŠ¥é”™ä¿¡æ¯ä¸æ˜¾ç¤º"><span class="toc-number">7.1.</span> <span class="toc-text">æŠ¥é”™ä¿¡æ¯ä¸æ˜¾ç¤º</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#avoidTerminalColorGray"><span class="toc-number">7.1.1.</span> <span class="toc-text">avoidTerminalColorGray</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#NEXT"><span class="toc-number">8.</span> <span class="toc-text">NEXT</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#æŠ½å–ä»£ç ï¼ˆTODOï¼‰"><span class="toc-number">8.1.</span> <span class="toc-text">æŠ½å–ä»£ç ï¼ˆTODOï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#è‡ªåŠ¨åˆ›å»ºæ–°å…¥å£ï¼ˆTODOï¼‰"><span class="toc-number">8.2.</span> <span class="toc-text">è‡ªåŠ¨åˆ›å»ºæ–°å…¥å£ï¼ˆTODOï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#çƒ­åŠ è½½ï¼ˆTODOï¼‰"><span class="toc-number">8.3.</span> <span class="toc-text">çƒ­åŠ è½½ï¼ˆTODOï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#éœ€è¦å»ºè®®oræ„è§"><span class="toc-number">8.4.</span> <span class="toc-text">éœ€è¦å»ºè®®oræ„è§</span></a></li></ol></li></ol>
                </div>
            
            <p>åšå‰åç«¯åˆ†ç¦»ä¹Ÿæœ‰ä¸€æ®µæ—¶é—´äº†ï¼Œéœ€è¦å‡çº§ä¸€ä¸‹é¡¹ç›®å¤šå…¥å£çš„æ„å»ºæ–¹æ¡ˆåˆ° Vue@2.xã€‚é¡¹ç›®æ¨¡æ¿æ²¡æœ‰é€‰æ‹©é‡æ–°å¼€å‘ï¼Œè€Œæ˜¯ç›´æ¥é€‰ç”¨äº† vue å®˜æ–¹æ¨¡æ¿ vuejs-templates/webpackã€‚ç°åœ¨æˆ‘ä»¬éœ€è¦æŠŠè¿™ä¸ª SPA å•å…¥å£æ¨¡æ¿æ”¹æˆå¤šå…¥å£ï¼Œå¹¶ä¸”ä¿®æ”¹æ·»åŠ ä¸€äº›å¼€å‘åŠŸèƒ½ï¼Œä»¥é…åˆ Koa-grace æ—¶çš„å¼€å‘æµç¨‹ã€‚</p>
<a id="more"></a>
<style>
  .fix-li-img + p + ul img,
  .fix-li-img + p + blockquote img{
    display: inline-block;
    vertical-align: sub;
  }
</style>

<p>æ­¤å¤„å¼ºæ’ä¸€æ¡ç¡¬å¹¿ï¼Œæ¨é”€ä¸€ä¸‹è‡ªå®¶çš„å‰åç«¯åˆ†ç¦»æ¡†æ¶ï¼š</p>
<p><div class="fix-li-img"></div></p>
<blockquote>
<p><img src="https://img.shields.io/github/stars/xiongwilee/koa-grace.svg?label=%E2%98%85" alt=""> <strong><a href="https://github.com/xiongwilee/koa-grace" target="_blank" rel="external">Koa-grace@2.0</a></strong> â€” å…¨æ–°çš„åŸºäºKoa@v2.xçš„MVC+RESTfulæ¶æ„çš„å‰åç«¯åˆ†ç¦»æ¡†æ¶</p>
</blockquote>
<h2 id="å…³äºé¡¹ç›®æ¨¡æ¿"><a href="#å…³äºé¡¹ç›®æ¨¡æ¿" class="headerlink" title="å…³äºé¡¹ç›®æ¨¡æ¿"></a>å…³äºé¡¹ç›®æ¨¡æ¿</h2><p>é¡¹ç›®æ¨¡æ¿æ²¡æœ‰é€‰æ‹©é‡æ–°å¼€å‘ï¼Œè€Œæ˜¯ç›´æ¥é€‰ç”¨äº†vueå®˜æ–¹æ¨¡æ¿<a href="https://github.com/vuejs-templates/webpack" target="_blank" rel="external">vuejs-templates/webpack</a>ã€‚ç†Ÿæ‚‰çš„å¼€å‘è€…åº”è¯¥éƒ½äº†è§£ï¼Œè¿™æ˜¯ä¸€ä¸ªSPAæ¨¡æ¿ï¼Œåªæœ‰ä¸€ä¸ªå…¥å£ï¼Œè€Œç°åœ¨æˆ‘ä»¬éœ€è¦æŠŠå®ƒæ”¹æˆå¤šå…¥å£ï¼Œå¹¶ä¸”ä¿®æ”¹æ·»åŠ ä¸€äº›å¼€å‘åŠŸèƒ½ï¼Œä»¥é…åˆKoa-graceæ—¶çš„å¼€å‘æµç¨‹ã€‚</p>
<p>å¯ç”¨çš„æ”¹é€ æ–¹æ¡ˆå·²ç»å‘å¸ƒï¼Œæœ‰å…´è¶£çš„åŒå­¦å¯ä»¥<strong>å…ˆä½“éªŒåŸºäºKoa-graceçš„å¤šå…¥å£é¡¹ç›®æ–¹æ¡ˆ</strong>ï¼š</p>
<p><div class="fix-li-img"></div></p>
<blockquote>
<p><img src="https://img.shields.io/github/stars/Thunf/grace-vue-webpack-boilerplate.svg?label=%E2%98%85" alt=""> <strong><a href="https://github.com/Thunf/grace-vue-webpack-boilerplate" target="_blank" rel="external">Grace-vue-webpack-boilerplate</a> â€” </strong>åŸºäºKoa-graceçš„å¤šå…¥å£Vue@2.xé¡¹ç›®æ„å»ºæ–¹æ¡ˆ ğŸš€</p>
</blockquote>
<p>å…³äºå®˜æ–¹æ¨¡æ¿ï¼Œå°±ä¸å†åˆ†äº«å­¦ä¹ çš„è¿‡ç¨‹ï¼Œä¸‹é¢ä»…è®¨è®ºæ”¹é€ è¿‡ç¨‹ä¸­<strong>é‡åˆ°çš„é—®é¢˜</strong>å’Œ<strong>å®æ–½æ–¹æ¡ˆçš„ç†ç”±</strong>ã€‚</p>
<h2 id="å…³äºç›®å½•ç»“æ„"><a href="#å…³äºç›®å½•ç»“æ„" class="headerlink" title="å…³äºç›®å½•ç»“æ„"></a>å…³äºç›®å½•ç»“æ„</h2><p>ç”±äºæ¨¡æ¿æ˜¯ä¸ºäº†åŸºäºKoa-graceçš„é¡¹ç›®è€Œè®¾è®¡ï¼Œæ‰€ä»¥åœ¨ç›®å½•ç»“æ„ä¸Šéœ€ä¿æŒåŸºæœ¬çš„<a href="https://github.com/xiongwilee/koa-grace#ç›®å½•ç»“æ„-1" target="_blank" rel="external">Koa-graceé¡¹ç›®ç»“æ„</a>ã€‚<br>ä»¥ä¸‹åˆ—ä¸¾äº†é¡¹ç›®ä¸­å…³é”®æ–‡ä»¶å¤¹åŠæ–‡ä»¶çš„ç»“æ„å…³ç³»ï¼Œä»…ä¾›å‚è€ƒã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">.</div><div class="line">â”œâ”€â”€ package.json        // é¡¹ç›®ä¾èµ–</div><div class="line">â”œâ”€â”€ node_modules</div><div class="line">â”‚</div><div class="line">â”œâ”€â”€ mock                // mockæ•°æ®æ–‡ä»¶</div><div class="line">â”œâ”€â”€ controller          // nodeå±‚è·¯ç”±ç›®å½•</div><div class="line">â”‚Â Â  â”œâ”€â”€ defaultCtrl.js</div><div class="line">â”‚Â Â  â””â”€â”€ home.js</div><div class="line">â”‚</div><div class="line">â”œâ”€â”€ views               // é™æ€æ¨¡æ¿æºç ç›®å½•</div><div class="line">â”œâ”€â”€ static              // é™æ€èµ„æºæºç ç›®å½•</div><div class="line">â”‚Â Â  â”œâ”€â”€ image</div><div class="line">â”‚Â Â  â”œâ”€â”€ fonts</div><div class="line">â”‚Â Â  â”œâ”€â”€ css</div><div class="line">â”‚Â Â  â””â”€â”€ js</div><div class="line">â”‚</div><div class="line">â”œâ”€â”€ build               // ç¼–è¯‘è„šæœ¬ç›®å½•ï¼Œæœ¬æ¬¡é‡ç‚¹æ”¹é€ </div><div class="line">â”‚Â Â  â””â”€â”€ config          // é¡¹ç›®é…ç½®ï¼Œä¾›ç¼–è¯‘è¿‡ç¨‹</div><div class="line">â””â”€â”€ vues                // æºç ç›®å½•ï¼Œä¸‹å±æ–‡ä»¶å¤¹å°†è§†ä½œç‹¬ç«‹çš„é¡µé¢å…¥å£ï¼Œâ€˜_â€™å¼€å¤´çš„æ–‡ä»¶å¤¹å°†è¢«å¿½ç•¥</div><div class="line">    â”œâ”€â”€ _components     // ç»„ä»¶åº“ï¼Œâ€˜_â€™å¼€å¤´æ—¶å°†ä¸ä¼šè¢«ä½œä¸ºå…¥å£</div><div class="line">    â”œâ”€â”€ demo            // /demoé¡µå…¥å£</div><div class="line">    â””â”€â”€ home            // /homeé¡µå…¥å£</div><div class="line">        â”œâ”€â”€ index.js</div><div class="line">        â”œâ”€â”€ index.vue</div><div class="line">        â””â”€â”€ router.js</div></pre></td></tr></table></figure>
<h2 id="å…³äºå¤šå…¥å£ï¼ˆMultiple-Entryï¼‰"><a href="#å…³äºå¤šå…¥å£ï¼ˆMultiple-Entryï¼‰" class="headerlink" title="å…³äºå¤šå…¥å£ï¼ˆMultiple Entryï¼‰"></a>å…³äºå¤šå…¥å£ï¼ˆMultiple Entryï¼‰</h2><p>è°ƒæ•´å®Œæ–‡ä»¶ç»“æ„ï¼Œä¸‹é¢è¦è§£å†³çš„äº‹æƒ…å°±æ˜¯ï¼Œåœ¨åŸæœ‰æ¨¡æ¿çš„åŸºç¡€ä¸Šæ”¹é€ å¤šå…¥å£æ–¹æ¡ˆã€‚<br>å…¶å®è¿™ä¸€æ­¥å¾ˆç®€å•ï¼Œåªéœ€æ‹“å±•webpacké…ç½®æ–‡ä»¶ä¸­entryçš„è·å–æ–¹å¼å³å¯ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// build/webpack.base.conf.js</span></div><div class="line"><span class="comment">/**</span></div><div class="line"> * [entries å…¥å£åˆæˆå™¨]</div><div class="line"> * @param  &#123;object&#125; opt æŒ‡å®šçš„å…¥å£ï¼Œä¼˜å…ˆçº§é«˜äºè‡ªåŠ¨æŠ“å–å…¥å£</div><div class="line"> * @return &#123;object&#125;     è¿”å›åˆæˆçš„å…¥å£å¯¹è±¡</div><div class="line"> */</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">entries</span> (<span class="params">opt</span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> ens = exec(<span class="string">'cd ./vues &amp;&amp; ls'</span>).split(<span class="string">'\n'</span>).map(<span class="function"><span class="keyword">function</span>(<span class="params">item</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> obj = &#123;&#125;</div><div class="line">    <span class="comment">// å°†å¿½ç•¥æ‰€æœ‰ä»¥ä¸‹åˆ’çº¿â€œ_â€å¼€å¤´çš„æ–‡ä»¶å¤¹</span></div><div class="line">    <span class="keyword">if</span> (!<span class="regexp">/^_[\w-]+$/</span>.test(item)) &#123;</div><div class="line">      obj[item] = <span class="string">'./vues/'</span>+item+<span class="string">'/'</span></div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> obj</div><div class="line">  &#125;)</div><div class="line">  <span class="keyword">return</span> <span class="built_in">Object</span>.assign.apply(<span class="literal">null</span>, [].concat(ens, opt))</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="built_in">module</span>.exports = &#123;</div><div class="line">  <span class="attr">entry</span>: entries(&#123;</div><div class="line">    <span class="comment">// æ­¤å¤„å¯ä»¥æ‰‹åŠ¨æŒ‡å®šå…¶ä»–éœ€æ‰“åŒ…çš„é¡µé¢/æ–‡ä»¶å…¥å£</span></div><div class="line">    common: [</div><div class="line">      <span class="string">'./static/css/common/reset.less'</span>,</div><div class="line">      <span class="string">'./static/css/common/index.less'</span>,</div><div class="line">      <span class="string">'./static/js/common/hello.js'</span>,</div><div class="line">    ]</div><div class="line">  &#125;),</div><div class="line">  ...</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ä»¥ä¸Šä»£ç æ•ˆæœç›¸å½“äºï¼š<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">module</span>.exports = &#123;</div><div class="line">  <span class="attr">entry</span>: &#123;</div><div class="line">    <span class="attr">home</span>: <span class="string">'./vues/home/index.js'</span>,</div><div class="line">    <span class="attr">demo</span>: <span class="string">'./vues/demo/index.js'</span>,</div><div class="line">    <span class="attr">common</span>: [</div><div class="line">      <span class="string">'./static/css/common/reset.less'</span>,</div><div class="line">      <span class="string">'./static/css/common/index.less'</span>,</div><div class="line">      <span class="string">'./static/js/common/hello.js'</span>,</div><div class="line">    ]</div><div class="line">  &#125;,</div><div class="line">  ...</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>å¯¹äºå¤šå…¥å£é¡¹ç›®ï¼Œ<strong>é¿å…äº†æ‰‹å·¥æ›´æ–°å…¥å£çš„éº»çƒ¦ï¼Œåœ¨æºç ç›®å½•ä¸­åˆ›å»ºå…¥å£æ–‡ä»¶å¤¹å¹¶æ·»åŠ æºç æ–‡ä»¶</strong>å³å¯ã€‚<br>ä»¥ä¸Šå°±å®Œæˆäº†å…¥å£çš„æ”¹é€ ï¼Œä½†è¿™æ ·è¿˜æ— æ³•å°†æ–‡ä»¶æŒ‰éœ€è¦çš„ç›®å½•ç»“æ„äº§å‡ºï¼Œæ‰€ä»¥è¿˜éœ€è¦è°ƒæ•´äº§å‡ºé…ç½®ã€‚</p>
<h2 id="å…³äºæ–‡ä»¶äº§å‡ºï¼ˆFiles-Outputï¼‰"><a href="#å…³äºæ–‡ä»¶äº§å‡ºï¼ˆFiles-Outputï¼‰" class="headerlink" title="å…³äºæ–‡ä»¶äº§å‡ºï¼ˆFiles Outputï¼‰"></a>å…³äºæ–‡ä»¶äº§å‡ºï¼ˆFiles Outputï¼‰</h2><h3 id="äº§å‡ºè§„åˆ™åŠéœ€æ±‚"><a href="#äº§å‡ºè§„åˆ™åŠéœ€æ±‚" class="headerlink" title="äº§å‡ºè§„åˆ™åŠéœ€æ±‚"></a>äº§å‡ºè§„åˆ™åŠéœ€æ±‚</h3><p>æŒ‰ç…§é¡¹ç›®ç»“æ„ï¼Œæ•´ç†æ–‡ä»¶äº§å‡ºçš„éœ€æ±‚ï¼š</p>
<ul>
<li>js<ul>
<li>æ–‡ä»¶ï¼šç¼–è¯‘åæ–‡ä»¶ååº”ä¸ºbuild.js</li>
<li>è·¯å¾„ï¼šéœ€è¾“å‡ºåˆ°static/jsä¸‹ï¼Œå¹¶å­˜æ”¾äºå…¥å£åç§°çš„æ–‡ä»¶å¤¹å†…ï¼Œå¦‚ï¼šstatic/js/home/build.js</li>
</ul>
</li>
<li>css<ul>
<li>æ–‡ä»¶ï¼šè§„åˆ™åŒä¸Šï¼Œå¦‚ï¼šbuild.css</li>
<li>è·¯å¾„ï¼šè§„åˆ™åŒä¸Šï¼Œå¦‚ï¼šstatic/css/home/build.css</li>
</ul>
</li>
<li>html<ul>
<li>æ–‡ä»¶ï¼šäº§å‡ºæ–‡ä»¶ååº”ä¸ºindex.html</li>
<li>è·¯å¾„ï¼šéœ€è¾“å‡ºåˆ°views/ä¸‹ï¼Œå¦‚ï¼šviews/home/index.html</li>
</ul>
</li>
</ul>
<p><strong>æ”¹é€ æ—¶ç›´æ¥è¿›è¡Œäº†webpack.prod.confçš„å…¨åŠŸèƒ½é…ç½®</strong>ï¼Œwebpack.dev.confè¿›è¡Œç®€åŒ–å³å¯ï¼ˆå¼€å‘é˜¶æ®µæ— éœ€åˆ†ç¦»cssã€å‹ç¼©ä»£ç ã€ç”Ÿæˆmapã€æŠ½å–å…¬å…±ä¾èµ–ç­‰æ­¥éª¤ï¼‰ã€‚</p>
<p>é€šè¿‡æŸ¥çœ‹åŸé¡¹ç›®æ¨¡æ¿çš„ç¼–è¯‘æµç¨‹å¯ä»¥äº†è§£ï¼š</p>
<ul>
<li>jsï¼šä½œä¸ºentryé…ç½®ï¼Œoutputç›´æ¥å½±å“è¾“å‡ºè·¯å¾„åŠæ–‡ä»¶å</li>
<li>cssï¼šentryä¸­é…ç½®çš„éƒ¨åˆ†åŒä¸Šï¼Œç”±vueæ–‡ä»¶ä¸­æŠ½ç¦»çš„éƒ¨åˆ†åˆ™éœ€è¦æ’ä»¶<a href="https://webpack.js.org/plugins/extract-text-webpack-plugin/" target="_blank" rel="external">ExtractTextPlugin</a>æŠ½ç¦»</li>
<li>htmlï¼šéœ€è¦æ’ä»¶<a href="https://webpack.js.org/plugins/html-webpack-plugin/" target="_blank" rel="external">HtmlWebpackPlugin</a>é…åˆå…¥å£è¿›è¡Œäº§å‡ºï¼Œå¯ä»¥ä½¿ç”¨ejsæ¨¡æ¿</li>
</ul>
<h3 id="äº§å‡ºhtmlå…¥å£æ–‡ä»¶"><a href="#äº§å‡ºhtmlå…¥å£æ–‡ä»¶" class="headerlink" title="äº§å‡ºhtmlå…¥å£æ–‡ä»¶"></a>äº§å‡ºhtmlå…¥å£æ–‡ä»¶</h3><p>é¦–å…ˆï¼Œåœ¨webpackæ–‡æ¡£ä¸­å¯ä»¥äº†è§£åˆ°chunkçš„æ¦‚å¿µï¼Œå®ƒå’Œentryæ˜¯ä¸€ä¸€å¯¹åº”çš„ï¼Œåœ¨å¤šå…¥å£é¡¹ç›®ä¸­å°¤ä¸ºé‡è¦ã€‚</p>
<blockquote>
<p>Passing an array of file paths to the entry property creates what is known as a â€œmulti-main entryâ€. This is useful when you would like to <strong>inject multiple dependent files together</strong> and graph their dependencies <strong>into one â€œchunkâ€</strong>.     â€” <a href="https://webpack.js.org/concepts/entry-points/#single-entry-shorthand-syntax" target="_blank" rel="external">webpack.js.org/entry-points</a></p>
</blockquote>
<p>å…¶æ¬¡ï¼Œéœ€è¦å…ˆäº§å‡ºå¯ç”¨çš„HTMLæ–‡ä»¶ï¼Œæ‰èƒ½è°ƒè¯•å…¶ä»–é™æ€èµ„æºçš„åŠ è½½ã€‚ç”±äºå¤šå…¥å£åŒ–ï¼ŒHTMLåœ¨äº§å‡ºæ—¶éœ€è¦æŒ‰chunkè¿›è¡Œè¾“å‡ºï¼Œæ‰èƒ½ä¿è¯å¯¹åº”å…¥å£çš„ç¼–è¯‘æ–‡ä»¶å¼•ç”¨åˆ°å¯¹åº”çš„HTMLä¸­ã€‚å› æ­¤éœ€è¦æŒ‰entryåˆå§‹åŒ–å¯¹åº”çš„HtmlWebpackPluginï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// build/webpack.prod.conf.js</span></div><div class="line"><span class="keyword">var</span> webpackConfig = merge(utils.setEntrys(baseWebpackConfig), &#123;</div><div class="line">  ...</div><div class="line">&#125;</div><div class="line"><span class="comment">//</span></div><div class="line"><span class="comment">// build/util.js</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">setEntrys</span> (<span class="params">conf</span>) </span>&#123;</div><div class="line">  ...</div><div class="line">  var htmlConfig = &#123;</div><div class="line">    <span class="comment">// å‹ç¼©HTMLé€‰é¡¹ï¼Œdevæ—¶ä¸å‹ç¼©</span></div><div class="line">    minify: &#123;</div><div class="line">      <span class="attr">removeComments</span>: isNotDev,</div><div class="line">      <span class="attr">collapseWhitespace</span>: isNotDev,</div><div class="line">      <span class="attr">removeAttributeQuotes</span>: isNotDev</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">var</span> entries = <span class="built_in">Object</span>.keys(conf.entry)</div><div class="line">  entries.map(<span class="function"><span class="keyword">function</span>(<span class="params">ent</span>) </span>&#123;</div><div class="line">    ...</div><div class="line">    <span class="comment">// æ ¹æ®entryæ·»åŠ æ–°æ’ä»¶åˆ°pluginsä¸­</span></div><div class="line">    conf.plugins.push(<span class="keyword">new</span> HtmlWebpackPlugin(<span class="built_in">Object</span>.assign(&#123;</div><div class="line">      <span class="comment">// HTMLè¾“å‡ºåœ°å€ï¼Œå½¢å¦‚ï¼š/Users/thunf/fe/server/app/demo/views/home/index.html</span></div><div class="line">      filename: <span class="string">`<span class="subst">$&#123;path.resolve(config.base.outputRoot, <span class="string">'views'</span>)&#125;</span>/<span class="subst">$&#123;ent&#125;</span>/index.html`</span>,</div><div class="line">      <span class="comment">// å…è®¸å¼•ç”¨çš„chunkï¼ŒåŒ…å«æœ¬èº«åŠå…¬å…±éƒ¨åˆ†</span></div><div class="line">      chunks: [ent, <span class="string">'vendor'</span>, <span class="string">'manifest'</span>, <span class="string">'common'</span>],</div><div class="line">      <span class="comment">// æ¨¡æ¿è·¯å¾„ï¼Œå½¢å¦‚ï¼š/Users/thunf/fe/server/app/demo/views/_common/_template.ejs</span></div><div class="line">      template: path.resolve(projectRoot, <span class="string">'views/_common/_template.ejs'</span>),</div><div class="line">      <span class="comment">// è‡ªåŠ¨æ’å…¥é™æ€èµ„æºï¼Œç”±äºç»“åˆä½¿ç”¨äº†Koa-graceåœ¨Nodeé¢„æ¸²æŸ“HTMLçš„åŠŸèƒ½ï¼Œæ‰€ä»¥å…³é—­è¯¥åŠŸèƒ½</span></div><div class="line">      inject: <span class="literal">false</span>,</div><div class="line">      <span class="comment">// Chunksæ’åºè§„åˆ™</span></div><div class="line">      chunksSortMode: <span class="string">'dependency'</span></div><div class="line">    &#125;, htmlConfig)))</div><div class="line">  &#125;);</div><div class="line">  <span class="keyword">return</span> conf;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡Koa-graceæä¾›çš„æœåŠ¡æ¥æ‰“å¼€å¯¹åº”çš„é¡µé¢äº†ï¼Œä½†æ˜¯é¡µé¢ä¸­çš„é™æ€èµ„æºé“¾æ¥è¿˜å­˜åœ¨é—®é¢˜ã€‚</p>
<h3 id="äº§å‡ºjs-cssé™æ€èµ„æº"><a href="#äº§å‡ºjs-cssé™æ€èµ„æº" class="headerlink" title="äº§å‡ºjs/cssé™æ€èµ„æº"></a>äº§å‡ºjs/cssé™æ€èµ„æº</h3><p>æ­¤æ—¶éœ€è¦é…ç½®è¾“å‡ºçš„å‚æ•°<code>output</code>ï¼Œå‚è€ƒwebpackæ–‡æ¡£ï¼ˆ<a href="https://webpack.js.org/configuration/output/" target="_blank" rel="external">webpack.js.org/output</a> | <a href="https://doc.webpack-china.org/configuration/output/" target="_blank" rel="external">webpack-china.org/output</a>ï¼‰ï¼Œå¯ä»¥æŸ¥çœ‹outputçš„è¯´æ˜å’Œé…ç½®ï¼Œå…¶ä¸­æœ¬æ¬¡éœ€è¦ä½¿ç”¨çš„å‚æ•°åŠæœ‰æ•ˆè¯´æ˜å¦‚ä¸‹ï¼š</p>
<blockquote>
<p><a href="https://webpack.js.org/configuration/output/#output-filename" target="_blank" rel="external">output.filename</a>: This option <strong>determines the name</strong> of each output bundle.<br><a href="https://webpack.js.org/configuration/output/#output-path" target="_blank" rel="external">output.path</a>: The output directory as an <strong>absolute</strong> path.<br><a href="https://webpack.js.org/configuration/output/#output-publicpath" target="_blank" rel="external">output.publicPath</a>: This option specifies the <strong>public URL</strong> of the output directory when referenced in a browser.</p>
</blockquote>
<p>ç®€å•æ¥è¯´ï¼Œå°±æ˜¯ï¼š</p>
<ul>
<li>output.filenameï¼šå†³å®šäº§å‡ºæ–‡ä»¶çš„åç§°å’Œåç¼€</li>
<li>output.pathï¼šå½±å“æ–‡ä»¶è¾“å‡ºçš„ç»å¯¹ä½ç½®ï¼ˆæœ¬æœºè¾“å‡ºæ–‡ä»¶å¤¹çš„ç»å¯¹è·¯å¾„ï¼‰</li>
<li>output.publicPathï¼šå†³å®šèµ„æºåœ¨æµè§ˆå™¨ä¸­åŠ è½½çš„è·¯å¾„ï¼ˆæ¯”å¦‚æ·»åŠ CDNã€æŒ‡å®šå…¬å¼€URLï¼‰</li>
</ul>
<p>å‡è®¾æˆ‘ä»¬éœ€è¦åœ¨homeé¡µäº§å‡ºçš„htmlä¸­ç”Ÿæˆ<code>/demo/static/js/home/build.js?v=12345</code>çš„èµ„æºé“¾æ¥ï¼Œå¯¹åº”ä»¥ä¸Šè§„åˆ™æœ‰ï¼š</p>
<ul>
<li>output.filenameï¼š<strong><code>static/js/home/build.js?v=12345</code></strong></li>
<li>output.pathï¼š<code>/Users/thunf/fe/server/app/demo</code><ul>
<li>æ­¤è·¯å¾„ä¸ºæœ¬åœ°äº§å‡ºç›®å½•<strong>ç»å¯¹åœ°å€</strong>ï¼Œåªå½±å“æœ¬åœ°äº§å‡ºç›®å½•ï¼Œä¸å½±å“htmlä¸­è¾“å‡ºçš„é“¾æ¥</li>
</ul>
</li>
<li>output.publicPathï¼š<strong><code>/demo/</code></strong><ul>
<li>åœ¨htmlè¾“å‡ºæ—¶ï¼Œä¼šç›´æ¥<strong>æ·»åŠ åˆ°filenameå‰</strong>ï¼Œç”Ÿæˆå®Œæ•´é“¾æ¥</li>
<li><strong>å°†å½±å“å…¶ä»–æ‰€æœ‰åœ¨htmlä¸­å¼•ç”¨çš„èµ„æºé“¾æ¥</strong></li>
</ul>
</li>
</ul>
<p>äºæ˜¯outputåº”æŒ‰ä»¥ä¸Šè§„åˆ™é…ç½®ï¼Œå®é™…ä»£ç ä¸­<strong>å¤ç”¨äº†è·¯å¾„é…ç½®åŠæ‹¼åˆè·¯å¾„çš„æ–¹æ³•</strong>ï¼Œæ­¤å¤„å°±ä¸å†è¿›è¡Œä»£ç åˆ†æã€‚æ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥ä¾æ¬¡æŸ¥çœ‹å¦‚ä¸‹æ–‡ä»¶ï¼š<a href="https://github.com/Thunf/grace-vue-webpack-boilerplate/blob/master/build/webpack.prod.conf.js#L21" target="_blank" rel="external">webpack.prod.conf.js#output</a>ã€<a href="https://github.com/Thunf/grace-vue-webpack-boilerplate/blob/master/build/utils.js#L6" target="_blank" rel="external">utils.js#assetsPath</a>ã€<a href="https://github.com/Thunf/grace-vue-webpack-boilerplate/blob/master/build/config/index.js" target="_blank" rel="external">config/index.js#buildConf</a></p>
<h3 id="æ–‡ä»¶åŠ æˆ³ï¼šQuery-or-fileName"><a href="#æ–‡ä»¶åŠ æˆ³ï¼šQuery-or-fileName" class="headerlink" title="æ–‡ä»¶åŠ æˆ³ï¼šQuery or fileName"></a>æ–‡ä»¶åŠ æˆ³ï¼šQuery or fileName</h3><p>å…³äºæ–‡ä»¶åŠ æˆ³çš„é—®é¢˜ï¼Œä¸ºä»€ä¹ˆæˆ‘ä»¬é€‰æ‹©äº†<code>build.js?v=12345</code>ï¼Œè€Œä¸æ˜¯<code>build.12345.js</code>ï¼Œæ˜¯å‡ºäºä»¥ä¸‹è€ƒè™‘çš„ï¼š<br>1ã€æ¯æ¬¡æ”¹åŠ¨buildéƒ½ä¼šäº§å‡ºæ–°æ–‡ä»¶ï¼Œé•¿ä¹…ä»¥å¾€ä¼šå¯¼è‡´çº¿ä¸Šä»£ç ç‰ˆæœ¬è¿‡å¤š<br>2ã€ä¸Šçº¿ä»“å‚¨å°†è¶Šæ¥è¶Šå¤§ï¼Œå¹¶ä¸”ä¸æ˜“æ¸…ç†</p>
<p>ä½†å®é™…åº”ç”¨ä¸Šï¼ŒQueryæˆ³å¯¹æ¯”fileNameæˆ³ä¹Ÿæœ‰é—®é¢˜å­˜åœ¨ï¼Œæ¯”å¦‚<br>1ã€æ— æ³•æœ‰æ•ˆåˆ©ç”¨CDNç»„åˆåŠ é€Ÿæ–‡ä»¶<br>2ã€æ— æ³•å­˜åœ¨å¤šç‰ˆæœ¬</p>
<p>ä½†ç›®å‰é˜¶æ®µæ ¹æ®ä¸šåŠ¡éœ€æ±‚ï¼Œæš‚æ—¶è¶³å¤Ÿä½¿ç”¨ï¼Œè‹¥æœ‰éœ€è¦æ›´æ”¹åŠ æˆ³æ–¹å¼çš„éœ€æ±‚ï¼Œåªéœ€åœ¨ä¸Šè¿°<code>output.filename</code>å¤„å°†æ–‡ä»¶å‘½åæ–¹å¼è¿›è¡Œè°ƒæ•´å³å¯ï¼Œæ­¤å¤„ä¸å†ç´¯è¿°ã€‚</p>
<h3 id="å…¶ä»–èµ„æºè·¯å¾„é—®é¢˜"><a href="#å…¶ä»–èµ„æºè·¯å¾„é—®é¢˜" class="headerlink" title="å…¶ä»–èµ„æºè·¯å¾„é—®é¢˜"></a>å…¶ä»–èµ„æºè·¯å¾„é—®é¢˜</h3><p>é¡¹ç›®æ¨¡æ¿ä¸­ç›®å‰è¿˜æœ‰å›¾ç‰‡èµ„æºåŠå­—ä½“èµ„æºæœªæåŠï¼Œè¯¥ä¸¤ç§èµ„æºåœ¨åŸæ¨¡æ¿ä¸­å·²å­˜åœ¨loaderåŠå¼•ç”¨æ–¹å¼ï¼Œä¸‹é¢æè¿°ç¢°åˆ°çš„é—®é¢˜åŠè§£å†³æ–¹æ³•ï¼š</p>
<h4 id="ç”Ÿæˆå›¾ç‰‡å¼•ç”¨è·¯å¾„"><a href="#ç”Ÿæˆå›¾ç‰‡å¼•ç”¨è·¯å¾„" class="headerlink" title="ç”Ÿæˆå›¾ç‰‡å¼•ç”¨è·¯å¾„"></a>ç”Ÿæˆå›¾ç‰‡å¼•ç”¨è·¯å¾„</h4><p>ç”±äºåœ¨å¤„ç†å›¾ç‰‡èµ„æºæ—¶ï¼Œå¹¶æ²¡æœ‰å¾ˆå¥½çš„ç†è§£<code>output.publicPath</code>çš„ä½œç”¨ï¼Œæ²¡æœ‰ä½¿ç”¨å½¢å¦‚<code>/demo/</code>çš„<strong>ç›¸å¯¹äºæœåŠ¡æ¨¡å¼(server-relative)</strong>ï¼Œå¯¼è‡´å§‹ç»ˆæ— æ³•äº§å‡ºæœŸæœ›çš„æ–‡ä»¶è·¯å¾„ã€‚åæ¥åœ¨webpackæ–‡æ¡£ä¸­æ‰¾åˆ°å…·ä½“çš„è¯´æ˜ï¼Œæ‰å®Œæˆé…ç½®ã€‚</p>
<blockquote>
<p>The value of the option is prefixed to every URL created by the runtime or loaders. Because of this <strong>the value of this option ends with /</strong> in most cases. â€” <a href="https://webpack.js.org/configuration/output/#output-publicpath" target="_blank" rel="external">output.publicPath</a></p>
</blockquote>
<h4 id="å›¾ç‰‡èµ„æºå¼•ç”¨æ–¹å¼"><a href="#å›¾ç‰‡èµ„æºå¼•ç”¨æ–¹å¼" class="headerlink" title="å›¾ç‰‡èµ„æºå¼•ç”¨æ–¹å¼"></a>å›¾ç‰‡èµ„æºå¼•ç”¨æ–¹å¼</h4><p>æ­£å¸¸æƒ…å†µä¸‹ï¼Œåœ¨.vueæ–‡ä»¶ä¸­å¯ä»¥ä½¿ç”¨ç›¸å¯¹è·¯å¾„æ¥å¼•ç”¨å›¾ç‰‡èµ„æºï¼Œä½†é€šè¿‡<strong>é…ç½®åˆ«å</strong>åŠ<code>~alias</code>çš„å¼•ç”¨æ–¹å¼å°†<strong>æ›´ç®€æ´</strong>ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!-- Same effect, but alias write less --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">"logo"</span> <span class="attr">src</span>=<span class="string">"../../static/image/logo-grace.png"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">"logo"</span> <span class="attr">src</span>=<span class="string">"~image/logo.png"</span>&gt;</span></div></pre></td></tr></table></figure>
<p>é…ç½®åˆ«åaliaså¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// build/webpack.base.conf.js</span></div><div class="line"><span class="built_in">module</span>.exports = &#123;</div><div class="line">  ...</div><div class="line">  resolve: &#123;</div><div class="line">    ...</div><div class="line">    alias: &#123;</div><div class="line">      <span class="string">'static'</span>: resolve(<span class="string">'static'</span>),</div><div class="line">      <span class="string">'image'</span>: resolve(<span class="string">'static/image'</span>),</div><div class="line">      <span class="string">'components'</span>: resolve(<span class="string">'vues/_components'</span>)</div><div class="line">    &#125;</div><div class="line">  &#125;,</div><div class="line">  ...</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>.vueæ–‡ä»¶ä¸­å…¶ä»–é™æ€èµ„æºå¼•ç”¨åŒç†</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!-- JS/Component --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line"><span class="keyword">import</span> Grace <span class="keyword">from</span> <span class="string">'components/grace.vue'</span></div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">...</div><div class="line"><span class="comment">&lt;!-- CSS/LESS --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">lang</span>=<span class="string">"less"</span>&gt;</span><span class="undefined"></span></div><div class="line">@import '~static/fonts/iconfont.less';</div><div class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div></pre></td></tr></table></figure>
<h2 id="å…³äºæå‡å¼€å‘æ•ˆç‡"><a href="#å…³äºæå‡å¼€å‘æ•ˆç‡" class="headerlink" title="å…³äºæå‡å¼€å‘æ•ˆç‡"></a>å…³äºæå‡å¼€å‘æ•ˆç‡</h2><p>è€ƒè™‘å®é™…å¼€å‘ä¸­ï¼Œæœ‰éœ€è¦è¿›è¡Œè¯¸å¦‚æœ¬åœ°é…ç½®ã€æ‰“å¼€æµè§ˆå™¨ã€åˆ›å»ºæ–°æ–‡ä»¶ç­‰é‡å¤æ€§æ“ä½œçš„åœºæ™¯ã€‚<br>ä¸ºäº†è¿›ä¸€æ­¥<strong>æå‡å¼€å‘æ•ˆç‡</strong>ï¼Œç‰¹åˆ«å¢åŠ äº†ä¸€äº›å¢å¼ºåŠŸèƒ½ï¼Œç›®å‰åˆšå¼€å§‹è¿›è¡Œï¼Œæ¬¢è¿æŠ›å‡ºå®è´µçš„å»ºè®®ã€‚</p>
<h3 id="è‡ªåŠ¨é…ç½®å¼€å‘ç¯å¢ƒ"><a href="#è‡ªåŠ¨é…ç½®å¼€å‘ç¯å¢ƒ" class="headerlink" title="è‡ªåŠ¨é…ç½®å¼€å‘ç¯å¢ƒ"></a>è‡ªåŠ¨é…ç½®å¼€å‘ç¯å¢ƒ</h3><p>ç”±äºKoa-graceä½œä¸ºå‰åç«¯åˆ†ç¦»æ¡†æ¶ï¼Œå…è®¸<strong>åŒæ—¶è§£æå¤šåŸŸåè¯·æ±‚åˆ°å¤šé¡¹ç›®</strong>ï¼Œæ•…ä»¥å¾€åœ¨åˆ‡æ¢é¡¹ç›®å¼€å‘æ—¶ï¼Œéœ€è¦æ‰‹åŠ¨æ›´æ”¹server.jsoné…ç½®åŠé‡å¯æœåŠ¡ï¼ˆå®˜æ–¹åæ§½ï¼šå¥½çƒ¦å•Šå–‚ï¼‰ã€‚é‚£ä¹ˆæ—¢ç„¶é¡¹ç›®å¯åŠ¨éœ€è¦å•ç‹¬<code>npm run dev</code>ä¸€æ¬¡ï¼Œä¸ºä½•ä¸è€ƒè™‘å°†é¡¹ç›®é…ç½®ï¼ˆå¼€å‘ç¯å¢ƒï¼‰äº¤ç”±é¡¹ç›®æœ¬èº«è¿›è¡Œå‘¢ï¼Ÿ</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// build/check-server.js</span></div><div class="line"><span class="comment">// åŒ¹é…graceä¸‹é…ç½®ç›®å½•</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">matchServerJson</span>(<span class="params">graceRoot</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> glob.sync(path.join(graceRoot, <span class="string">'*/config/main.development.js'</span>)) || []</div><div class="line">&#125;</div><div class="line">...</div><div class="line"><span class="comment">// åŒ¹é…graceç›®å½•</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">findServerFolder</span>(<span class="params">graceRoot, scb, ecb</span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> confMatch = matchServerJson(graceRoot)</div><div class="line">  ;(<span class="number">1</span> === confMatch.length) ? callback(scb)(&#123;</div><div class="line">    <span class="attr">serverRoot</span>: path.resolve(confMatch[<span class="number">0</span>], <span class="string">'../..'</span>),</div><div class="line">    <span class="attr">serverConf</span>: confMatch[<span class="number">0</span>]</div><div class="line">  &#125;) : callback(ecb)(confMatch.length)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>äºæ˜¯æœ¬ç€å°½å¯èƒ½<strong>è®©ç³»ç»Ÿè‡ªå·±æ‰¾</strong>çš„æ€æƒ³ï¼Œé€šè¿‡å¼•å…¥globè¿›è¡Œå…³é”®æ–‡ä»¶çš„è·¯å¾„åŒ¹é…ï¼Œæ¥éªŒè¯å½“å‰é¡¹ç›®æ˜¯å¦ç¬¦åˆKoa-graceç›®å½•è§„èŒƒï¼Œé¡ºä¾¿è§£æå‡ºå½“å‰Koa-graceå¯åŠ¨çš„æ–‡ä»¶å¤¹ï¼ˆdefault: serverï¼‰åç§°ï¼Œå¹¶æ·»åŠ åˆ°configã€‚</p>
<p>æœ‰äº†serverçš„è·¯å¾„ï¼Œå°±å¯ä»¥æŒ‰è·¯å¾„è¯»å–é…ç½®æ–‡ä»¶ä¿¡æ¯äº†ï¼Œé¡ºä¾¿ä¹Ÿå¯ä»¥éªŒè¯å¹¶æ·»åŠ æœ¬é¡¹ç›®çš„é…ç½®ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// build/open-browser.js</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">lookForHost</span>(<span class="params">hosts, autoOpenBrowser</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> <span class="built_in">Object</span>.keys(hosts).filter(<span class="function"><span class="keyword">function</span>(<span class="params">key, value</span>) </span>&#123;</div><div class="line">    <span class="comment">// if vhost-matched, use the match one</span></div><div class="line">    <span class="keyword">return</span> hosts[key] === config.base.moduleName</div><div class="line">  &#125;)[<span class="number">0</span>] || (autoOpenBrowser &amp;&amp; writeHostConf(&#123;</div><div class="line">    <span class="comment">// if auto-open &amp; no-vhost-matched, auto set</span></div><div class="line">    <span class="string">"127.0.0.1"</span>: config.base.moduleName</div><div class="line">  &#125;) || [</div><div class="line">    <span class="comment">// if no-auto-open &amp; no-vhost-matched, to tip</span></div><div class="line">    <span class="string">'&gt; Maybe you have not set vhost to this app: '</span> + chalk.cyan(config.base.moduleName),</div><div class="line">    <span class="string">'&gt; Please set '</span> + chalk.magenta(<span class="string">'vhost'</span>) + <span class="string">' in '</span> + chalk.magenta(<span class="string">'/server/config/server.json'</span>) + <span class="string">' like this:'</span>,</div><div class="line">    <span class="string">'  '</span> + chalk.green( <span class="built_in">JSON</span>.stringify(&#123;</div><div class="line">      <span class="attr">merge</span>: &#123;<span class="attr">vhost</span>: &#123;<span class="string">"127.0.0.1"</span>: config.base.moduleName &#125; &#125;</div><div class="line">    &#125;, <span class="literal">null</span>, <span class="number">2</span>).replace(<span class="regexp">/\n/g</span>, <span class="string">'\n    '</span>) ), <span class="string">''</span>, <span class="string">''</span></div><div class="line">  ])</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>æ­¤å¤„ä»£ç å®ç°é£æ ¼æ¯”è¾ƒè¯¡å¼‚ï¼Œå…¶å®åšäº†3ç§æƒ…å†µçš„åˆ¤æ–­ï¼š</p>
<ul>
<li>å¦‚æœåŒ¹é…åˆ°æœ¬é¡¹ç›®çš„vhosté…ç½®ï¼Œé‚£å°±ä½¿ç”¨è¯¥host</li>
<li>å¦‚æœæœªåŒ¹é…åˆ°ï¼Œä¸”å…è®¸è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨ï¼Œå°±<strong>å†™å…¥é»˜è®¤é…ç½®<code>{127.0.0.1: moduleName}</code></strong></li>
<li>å¦‚æœæœªåŒ¹é…åˆ°ï¼Œä¸”ä¸å…è®¸è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨ï¼Œå°±å‘èµ·æç¤º</li>
</ul>
<h3 id="è‡ªåŠ¨æ‰“å¼€é¡¹ç›®é¦–é¡µ"><a href="#è‡ªåŠ¨æ‰“å¼€é¡¹ç›®é¦–é¡µ" class="headerlink" title="è‡ªåŠ¨æ‰“å¼€é¡¹ç›®é¦–é¡µ"></a>è‡ªåŠ¨æ‰“å¼€é¡¹ç›®é¦–é¡µ</h3><p>å…¶å®è¿™ä¸ªåŠŸèƒ½åœ¨åŸé¡¹ç›®æ¨¡æ¿ä¸­å·²ç»å­˜åœ¨ï¼Œåªä¸è¿‡åŸé¡¹ç›®è‡ªå¸¦serverå¹¶ä¸”åªæœ‰ä¸€ä¸ªå…¥å£ï¼Œå¯åŠ¨æ—¶åªéœ€æ‰“å¼€å›ºå®šçš„é¦–é¡µå³å¯ã€‚<br>å½“å˜æˆå¤šå…¥å£é¡¹ç›®åï¼Œå°±éœ€è¦é¢ä¸´æ–°çš„é—®é¢˜ï¼š</p>
<ul>
<li>Koa-graceå¯åŠ¨çš„hoståŠç«¯å£ä¸ç¡®å®š</li>
<li>é¦–é¡µè·¯å¾„ä¸ç¡®å®š</li>
</ul>
<p>ç¬¬ä¸€ä¸ªé—®é¢˜ï¼Œé€šè¿‡ä¸Šè¿°æ–¹æ¡ˆå·²ç»å¯ä»¥è§£å†³ã€‚<br>ç¬¬äºŒä¸ªé—®é¢˜ï¼Œæš‚æ—¶éœ€åœ¨configé…ç½®<code>autoOpenPage</code>ï¼Œéœ€åœ¨é…ç½®æ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹é…ç½®ï¼Œç‰¹æ­¤è¯´æ˜ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// build/config/index.js</span></div><div class="line">devConf = &#123;</div><div class="line">  ...</div><div class="line">  autoOpenBrowser: <span class="literal">true</span>, <span class="comment">// æ˜¯å¦è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨</span></div><div class="line">  autoOpenDelay: <span class="number">2000</span>,   <span class="comment">// å»¶è¿Ÿå¤šå°‘msæ‰“å¼€æµè§ˆå™¨ï¼Œkoa-graceæœåŠ¡æ£€æµ‹åˆ°è·¯ç”±æ–‡ä»¶å˜åŒ–ä¼šè‡ªåŠ¨é‡å¯</span></div><div class="line">  autoOpenPage: <span class="string">'home'</span>,  <span class="comment">// è‡ªåŠ¨æ‰“å¼€æ—¶çš„é¡¹ç›®å…¥å£ï¼ˆè·¯ç”±ï¼‰</span></div><div class="line">  ...</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h2 id="å…³äºESLint"><a href="#å…³äºESLint" class="headerlink" title="å…³äºESLint"></a>å…³äºESLint</h2><h3 id="æ£€æŸ¥ä½ çš„ä»£ç "><a href="#æ£€æŸ¥ä½ çš„ä»£ç " class="headerlink" title="æ£€æŸ¥ä½ çš„ä»£ç "></a>æ£€æŸ¥ä½ çš„ä»£ç </h3><blockquote>
<p>Code <a href="https://en.wikipedia.org/wiki/Lint_(software)" target="_blank" rel="external">linting</a> is a type of static analysis.<br>ESLint is designed to have all rules completely pluggable. â€” <a href="http://eslint.org/docs/about/" target="_blank" rel="external">eslint.org</a></p>
</blockquote>
<p>å¾ˆæ—©ä¹‹å‰å°±äº†è§£è¿‡è¿™ä¸ªç©æ„äº†ï¼Œæ›¾ç»ç»„é‡Œä¹Ÿæœ‰å‡ æ¬¡æŠ€æœ¯è°ƒç ”æ¶‰åŠè¿™ä¸ªï¼Œä¸€ç›´æ²¡æ­£å¼æŠ•å…¥ä½¿ç”¨è¿‡ï¼Œä¹Ÿå°±è‡ªå·±æä¸€æã€‚</p>
<p>å…¶å®å¼€å§‹ä½¿ç”¨æ—¶ä¹Ÿæ˜¯æŒºè›‹ç–¼çš„ï¼ˆæ¨¡æ¿è‡ªå¸¦é…ç½®ä½¿ç”¨æ ‡å‡†ï¼š<a href="https://github.com/feross/standard/blob/master/RULES.md#javascript-standard-style" target="_blank" rel="external">feross/standard</a>ï¼Œæ„Ÿè§‰è¦æ±‚è¶…çº§ä¸¥æ ¼ï¼Œæ¯”å¦‚â€œ<code>{</code>â€åæ¢è¡Œå¹¶ç•™ä¸€è¡Œç©ºæ ¼éƒ½è¦errorï¼‰ï¼Œä½†è€å¿ƒçœ‹ä¸€ä¸‹æç¤ºï¼Œå°±èƒ½çŸ¥é“æ ¼å¼å“ªé‡Œä¸æ ‡å‡†ï¼Œç„¶åé€æ­¥å°±ä¹ æƒ¯äº†ï¼ˆé¿å…å†™çš„æ—¶å€™å¤ªé£˜é€¸ï¼‰ã€‚</p>
<blockquote>
<p>This module helps hold our code to a high standard of quality.<br>This module ensures that new contributors follow some basic style standards. â€” <a href="http://standardjs.com/#but-this-isnt-a-real-web-standard" target="_blank" rel="external">feross/standard</a></p>
</blockquote>
<p>è¿™é‡Œåä¸ªæ§½ï¼Œ<strong>å¦‚æœå›¢é˜Ÿåä½œå¼€å‘ä¸€ä¸ªä»“å‚¨ï¼Œå›¾å¿«è€Œä¸åŠ ä»¥è§„èŒƒï¼Œç®€ç›´å°±æ˜¯ç»™ç»´æŠ¤è€…æŒ–å‘</strong>ï¼ˆç‰ˆæœ¬è¶Šè€å‘è¶Šå¤§ï¼Œè‡ªå·±æ·±æœ‰ä½“ä¼šï¼Œé å˜´éè¦æ±‚ç»Ÿä¸€é£æ ¼ï¼ŒçœŸå¿ƒæ²¡ç”¨ï¼Œä»€ä¹ˆè¯¡å¼‚çš„ä»£ç é£æ ¼éƒ½æœ‰ï¼‰ã€‚</p>
<h3 id="ç¿»ä¸€ç¿»æ–‡æ¡£"><a href="#ç¿»ä¸€ç¿»æ–‡æ¡£" class="headerlink" title="ç¿»ä¸€ç¿»æ–‡æ¡£"></a>ç¿»ä¸€ç¿»æ–‡æ¡£</h3><p>æŸï¼šeslinté™åˆ¶å¤ªä¸¥æ ¼<br>æˆ‘ï¼šå—¯ï¼Œç¡®å®ä¸¥æ ¼ï¼Œä¹ æƒ¯å°±å¥½<br>æŸï¼šèƒ½ä¸èƒ½æ”¹æˆåªæœ‰æç¤ºï¼Œä½†æ˜¯ä¸å½±å“ç¼–è¯‘æµç¨‹çš„<br>æˆ‘ï¼šçœ‹çœ‹æ–‡æ¡£</p>
<ul>
<li>eslint-loader: <a href="https://github.com/MoOx/eslint-loader" target="_blank" rel="external">github.com/MoOx/eslint-loader</a></li>
<li>eslint: <ul>
<li>en: <a href="http://eslint.org/docs/user-guide/" target="_blank" rel="external">eslint.org/docs</a></li>
<li>zh: <a href="http://eslint.cn/docs/user-guide/" target="_blank" rel="external">eslint.cn/docs</a></li>
</ul>
</li>
</ul>
<p>ç ”ç©¶äº†ä¸€ä¸‹ä¿©æ–‡æ¡£ï¼Œç†è®ºä¸Šå¯ä»¥æœ‰2ä¸ªæ–¹æ¡ˆå®ç°<strong>åªæç¤ºè€Œä¸å½±å“ç¼–è¯‘æµç¨‹</strong>ï¼Œä½†æ˜¯ä¼¼ä¹åˆå„è‡ªæœ‰é—®é¢˜ï¼Œä»¥ä¸‹æ˜¯è¿™ä¸¤ç§æ–¹æ¡ˆã€‚</p>
<h4 id="é…ç½®extends-rules"><a href="#é…ç½®extends-rules" class="headerlink" title="é…ç½®extends/rules"></a>é…ç½®extends/rules</h4><p>åœ¨ESlintçš„å®˜æ–¹æ–‡æ¡£é‡Œå¯ä»¥äº†è§£åˆ° <a href="http://eslint.org/docs/user-guide/configuring#extending-configuration-files" target="_blank" rel="external">configuring#extending-configuration-files</a>ï¼š</p>
<blockquote>
<ul>
<li><strong>extends</strong>:<ul>
<li>a string that specifies a configuration</li>
<li>an array of strings: each additional configuration extends the preceding configurations</li>
</ul>
</li>
<li><strong>rules</strong>: which rules are enabled and at what error level<ul>
<li>enable additional rules</li>
<li>change an inherited ruleâ€™s severity without changing its options</li>
<li>override options for rules from base configurations</li>
</ul>
</li>
</ul>
</blockquote>
<p>æ¥ä¸‹æ¥é€šè¿‡æŸ¥çœ‹ feross/standard çš„é…ç½®æ–‡ä»¶ <a href="https://github.com/feross/eslint-config-standard/blob/master/eslintrc.json" target="_blank" rel="external">eslint-config-standard/eslintrc.json</a> å¯ä»¥å¾—çŸ¥ï¼Œè¿™ä¸ªæ ‡å‡†ä¸€è¨€ä¸åˆå°±errorï¼Œè€Œä¸”<strong>å…¨éƒ¨éƒ½æ˜¯error</strong>ï¼ˆæ²¡åŠæ³•ï¼Œå°±æ˜¯è¿™ä¹ˆä»»æ€§ï¼‰ã€‚ä¸è¿‡ feross/standard çš„ä½œè€…ä¹Ÿè¿™ä¹ˆè¡¨æ€äº†ï¼š</p>
<blockquote>
<p>The word â€œstandardâ€ has more meanings than just â€œweb standardâ€ :-)<br>â€” <a href="http://standardjs.com/#but-this-isnt-a-real-web-standard" target="_blank" rel="external">FAQ: But this isnâ€™t a real web standard!</a></p>
</blockquote>
<p>é‚£ä¹ˆæ–¹æ¡ˆä¹Ÿå°±æ˜¾è€Œæ˜“è§ï¼š</p>
<ul>
<li>æ‰¾ä¸€ä»½å®Œå…¨ç¬¦åˆå¿ƒæ„çš„æ ‡å‡†ï¼ˆçœ‹èµ·æ¥æ¯”è¾ƒéš¾ï¼‰</li>
<li>å†™ä¸ªæ’ä»¶ï¼Œç„¶å<strong>è‡ªå·±å®šä¹‰è§„åˆ™</strong>ï¼ˆ<a href="http://eslint.org/docs/rules/" target="_blank" rel="external">eslint.org/docs/rules</a> | <a href="http://eslint.cn/docs/rules/" target="_blank" rel="external">eslint.cn/docs/rules</a>ï¼‰ï¼Œæ·»åŠ åˆ°extends<ul>
<li>æ¯”å¦‚å¼ºåˆ¶ç¼©è¿›å°±ç»™errorï¼Œä¸å…³å¿ƒæ˜¯å¦ç©ºè¡Œå°±ç»™warningï¼Œéšå¿ƒæ‰€æ¬²so easy</li>
</ul>
</li>
<li>åœ¨.eslintrcä¸­ï¼Œé€šè¿‡<strong>æ·»åŠ ruleså±æ€§ï¼Œå¼ºè¡Œè¦†ç›–</strong>ç°æœ‰extendsæä¾›çš„rules</li>
</ul>
<p>ä¼˜ç¼ºç‚¹ä¹Ÿä¸€ç›®äº†ç„¶ï¼š</p>
<ul>
<li>ä¼˜ï¼šé…ç½®åŒ–å¹¶å®Œå…¨å¯ä»¥è‡ªå®šä¹‰ï¼Œå®Œå…¨å¯æ‹”æ’ï¼Œå¯æŒç»­ç»´æŠ¤ï¼›</li>
<li>ç¼ºï¼šæƒ³æ‰¾åˆ°ä¸€ä¸ªå®Œå…¨ç¬¦åˆå¿ƒæ„çš„æ ‡å‡†å‡ ä¹ä¸å¯èƒ½ï¼ˆè‹¥è‡ªå·±å†™è§„åˆ™ï¼Œä¸€èˆ¬äººæ€•æ˜¯æ²¡è¿™å¿ƒæƒ…ï¼Œè™½ç„¶è§„åˆ™ä¸æ˜¯å¾ˆå¤šï¼Œå“ˆï¼‰</li>
</ul>
<h4 id="é…ç½®failOnWarning"><a href="#é…ç½®failOnWarning" class="headerlink" title="é…ç½®failOnWarning"></a>é…ç½®failOnWarning</h4><p>å½“ç„¶å…ˆè®²ä¸€å¥ï¼Œæˆ‘å…¶å®<strong>ä¸æ¨è</strong>è¿™ç§é…ç½®ï¼ŒåŸå› åœ¨åé¢è¯´ã€‚</p>
<p>é¦–å…ˆåœ¨eslint-loaderæ–‡æ¡£é‡Œï¼Œæ‰¾åˆ°è¿™ä¹ˆä¸€å¥è¯ï¼š</p>
<blockquote>
<p>So even ESLint warnings will fail the build. â€” <a href="https://github.com/MoOx/eslint-loader#noerrorsplugin" target="_blank" rel="external">eslint-loader#noerrorsplugin</a></p>
</blockquote>
<p>å³ä½¿æ˜¯warningä¹Ÿä¼šé˜»æ–­buildè¿‡ç¨‹ã€‚ä½†æœ‰è¶£çš„æ˜¯ï¼Œoptioné…ç½®å¯ä»¥æ”¹å˜æç¤ºè¡Œä¸ºï¼Œé»˜è®¤å€¼éƒ½æ˜¯falseï¼š</p>
<blockquote>
<p><strong>emitError</strong>: Loader will always return errors if this option is set to true.<br><strong>emitWarning</strong>: Loader will always return warnings if option is set to true.<br><strong>failOnWarning</strong>: Loader will cause the module build to fail if there are any eslint warnings.<br><strong>failOnError</strong>: Loader will cause the module build to fail if there are any eslint errors.</p>
</blockquote>
<p>ä»¥æˆ‘çš„ç†è§£ï¼Œeslint-loaderåº”è¯¥æ˜¯åœ¨preLoadé˜¶æ®µï¼Œä»¥æŠ¥é”™çš„å½¢å¼å½±å“webpackç¼–è¯‘è¿›ç¨‹ï¼Œå¹¶æ˜¾ç¤ºæç¤ºä¿¡æ¯ã€‚<br>æ‰€ä»¥åœ¨<a href="https://github.com/MoOx/eslint-loader/blob/master/index.js#L100" target="_blank" rel="external">eslint-loaderçš„æºç </a>é‡Œï¼Œæ‰¾åˆ°äº†è¿™ä¹ˆä¸ªåœ°æ–¹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// default behavior: emit error only if we have errors</span></div><div class="line"><span class="keyword">var</span> emitter = res.errorCount ? webpack.emitError : webpack.emitWarning</div><div class="line"></div><div class="line"><span class="comment">// force emitError or emitWarning if user want this</span></div><div class="line"><span class="keyword">if</span> (config.emitError) &#123;</div><div class="line">  emitter = webpack.emitError</div><div class="line">&#125;</div><div class="line"><span class="keyword">else</span> <span class="keyword">if</span> (config.emitWarning) &#123;</div><div class="line">  emitter = webpack.emitWarning</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">if</span> (emitter) &#123;</div><div class="line">  emitter(messages)</div><div class="line">  <span class="keyword">if</span> (config.failOnError &amp;&amp; res.errorCount) &#123;</div><div class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">"Module failed because of a eslint error.\n"</span></div><div class="line">      + messages)</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (config.failOnWarning &amp;&amp; res.warningCount) &#123;</div><div class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">"Module failed because of a eslint warning.\n"</span></div><div class="line">      + messages)</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>è¿™æ®µä»£ç è¡¨æ˜ï¼Œæ­£å¸¸æµç¨‹ä¸Šçš„warningå’Œerroræ˜¯è°ƒç”¨webpackè‡ªå¸¦çš„æ–¹æ³•æ¥emitçš„ï¼Œåªä¸è¿‡æˆ‘ä»¬å¯ä»¥é€šè¿‡é…ç½®ï¼š<br>1.emitError/emitWarningï¼šå–æ¶ˆdefault behaviorï¼Œä½¿emitterå¼ºåˆ¶å˜æˆerror/warningç±»å‹<br>2.failOnWarning/failOnErrorï¼šæŠ›å‡ºä¸€ä¸ªErroræ¥æ‰“æ–­webpackçš„buildè¿‡ç¨‹</p>
<p>é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œé»˜è®¤çš„é…ç½®<code>{emitError: false, failOnError: false}</code>ï¼Œåªæ˜¯ç”±webpackè¿›è¡Œäº†ä¸€æ¬¡emitErrorï¼Œå¹¶æ²¡æœ‰å®é™…æŠ›å‡ºä¸€ä¸ªErrorï¼Œé‚£å®é™…ä¸Šåº”è¯¥<strong>ä¸ä¼š cause the module build to fail</strong>æ‰å¯¹ï¼Ÿä½†å®é™…å¼€å‘æ—¶ï¼Œæ¯”å¦‚ä¸ºä»€ä¹ˆâ€œ<code>{</code>â€åæ¢è¡Œå¹¶ç•™ä¸€è¡Œç©ºæ ¼ï¼Œä¸åªè§¦å‘äº†è§„åˆ™<a href="http://eslint.org/docs/rules/no-trailing-spaces" target="_blank" rel="external">no-trailing-spaces</a>çš„errorï¼Œè¿˜å¯¼è‡´webpackæ²¡æœ‰å®é™…buildå‡ºæ–°æ–‡ä»¶å‘¢ï¼Ÿ</p>
<p>é‚£ä¹ˆåŸºæœ¬ä¸Šå¯ä»¥æ–­å®šè¿™å’Œwebpack.emitErroræœ‰å…³ç³»äº†ï¼Œæ¥çœ‹ä¸€ä¸‹webpackçš„æºç ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// webpack/lib/NormalModule.js</span></div><div class="line">  ...</div><div class="line">    emitWarning: <span class="function"><span class="keyword">function</span>(<span class="params">warning</span>) </span>&#123;</div><div class="line">      <span class="built_in">module</span>.warnings.push(<span class="keyword">new</span> ModuleWarning(<span class="built_in">module</span>, warning));</div><div class="line">    &#125;,</div><div class="line">    <span class="attr">emitError</span>: <span class="function"><span class="keyword">function</span>(<span class="params">error</span>) </span>&#123;</div><div class="line">      <span class="built_in">module</span>.errors.push(<span class="keyword">new</span> ModuleError(<span class="built_in">module</span>, error));</div><div class="line">    &#125;,</div><div class="line">  ...</div></pre></td></tr></table></figure>
<p>è¿™é‡ŒAPIåŠŸèƒ½æ˜¯æ”¶é›†errorå’Œwarningï¼Œé‚£ä¹ˆç†è®ºä¸Šè¿˜æœ‰åœ°æ–¹ï¼Œä¼šæ ¹æ®errorå’Œwarningæ•°é‡å†³å®šæ˜¯å¦å¯ä»¥ç»§ç»­ç¼–è¯‘ã€‚<br>ä¸­é—´è°ƒè¯•çš„è¿‡ç¨‹å°±ä¸ç´¯è¿°ï¼Œæœ€ç»ˆåœ¨webpackçš„Compiler.jsä¸­å…ˆæ‰¾åˆ°äº†åˆ¤å®šemitå¹¶returnçš„åœ°æ–¹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// webpack/lib/Compiler.js</span></div><div class="line">  ...</div><div class="line">  if(self.compiler.applyPluginsBailResult(<span class="string">"should-emit"</span>, compilation) === <span class="literal">false</span>) &#123;</div><div class="line">    <span class="keyword">return</span> self._done(<span class="literal">null</span>, compilation);</div><div class="line">  &#125;</div><div class="line">  ...</div></pre></td></tr></table></figure>
<p>ç»è¿‡å¯»æ‰¾<code>should-emit</code>åœ¨å“ªé‡Œè§¦å‘ï¼Œç„¶åæ‰¾åˆ°åœ¨NoEmitOnErrorsPluginä¸­ï¼Œå¤„ç†errorsæ•°é‡çš„é€»è¾‘ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// webpack/lib/NoEmitOnErrorsPlugin.js</span></div><div class="line">  ...</div><div class="line">  compiler.plugin(<span class="string">"should-emit"</span>, (compilation) =&gt; &#123;</div><div class="line">    <span class="keyword">if</span>(compilation.errors.length &gt; <span class="number">0</span>)</div><div class="line">      <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">  &#125;);</div><div class="line">  ...</div></pre></td></tr></table></figure>
<p>æ­¤å¤„å¯ä»¥çœ‹å‡ºï¼Œè‹¥errorsä¸­å­˜åœ¨errorï¼ŒNoEmitOnErrorsPluginä¼šè¿”å›falseï¼Œè€Œå¯¹warningæ²¡æœ‰å¤„ç†ã€‚è¿™ä¸€è¡Œä¸ºä¼šå¯¼è‡´Compiler.jsä¸­çš„compileæµç¨‹è¢«ä¸­æ–­ï¼Œå½“ç„¶å°±ä¸ä¼šæœ‰æ–‡ä»¶äº§å‡ºå•¦ã€‚</p>
<p>é‚£ä¹ˆä¸ºäº†éªŒè¯è¿™ä¸ªé€»è¾‘ï¼Œå°†NoEmitOnErrorsPluginä»é¡¹ç›®build/webpack.dev.conf.jsä¸­æ³¨é‡Šæ‰ä¹‹åï¼Œå¸¦ç€å·²çŸ¥çš„æ ¼å¼é—®é¢˜ï¼ˆå¦‚å¤šä¸ªç©ºè¡Œï¼Œä¸å½±å“å®é™…ç¼–è¯‘ï¼‰ï¼Œä»ç„¶å¯ä»¥ç¼–è¯‘å‡ºæ–°æ–‡ä»¶ï¼Œæœ‰å…´è¶£çš„å°ä¼™ä¼´å¯ä»¥è‡ªè¡Œå°è¯•ã€‚å½“ç„¶è¿™ä¸ªæ’ä»¶åœ¨devç¯å¢ƒå¼€å‘æ—¶è¿˜ä¼šå½±å“å…¶ä»–loaderçš„è¡¨ç°ï¼Œä¸å»ºè®®ç æ‰å®ƒã€‚</p>
<p>é‚£ä¹ˆå›åˆ°æˆ‘ä»¬çš„é—®é¢˜ä¸Šæ¥ï¼Œé€šè¿‡å¼ºåˆ¶eslintè§¦å‘emitWarningè€Œä¸æ˜¯emitErrorï¼Œå³åœ¨eslintçš„optionä¸­é…ç½®<code>{emitWarning: true}</code>ï¼Œ<strong>æ ¼å¼æ£€æµ‹è§„åˆ™ï¼ˆç¼–è¯‘æ— å…³çš„è§„åˆ™ï¼‰</strong>å°±ä¸ä¼šç»ˆæ­¢webpackç¼–è¯‘äº§å‡ºæ–‡ä»¶äº†ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">...</div><div class="line">&#123;</div><div class="line">  <span class="attr">test</span>: <span class="regexp">/\.(js|vue)$/</span>,</div><div class="line">  <span class="attr">loader</span>: <span class="string">'eslint-loader'</span>,</div><div class="line">  ...</div><div class="line">  options: &#123;</div><div class="line">    ...</div><div class="line">    <span class="comment">/* ======= begin ====== */</span> </div><div class="line">    emitWarning: <span class="literal">true</span></div><div class="line">    <span class="comment">/* =======  end  ====== */</span> </div><div class="line">  &#125;</div><div class="line">&#125;,</div><div class="line">...</div></pre></td></tr></table></figure>
<p>å½“ç„¶å¦‚æœæ˜¯ä¼šå¼•èµ·ç¼–è¯‘çš„é”™è¯¯ï¼Œåœ¨æ¥ä¸‹æ¥çš„ç¼–è¯‘ä¸­è¯¥æ–­è¿˜æ˜¯å¾—æ–­ï¼Œè¿˜æœ‰å¯èƒ½äº§ç”Ÿå¤šæ¬¡logï¼ˆæ¯•ç«Ÿæ²¡æœ‰è¢«eslintåœ¨preLoadè¿‡ç¨‹ä¸­æ‹¦ä¸‹æ¥ï¼Œeslintæç¤ºå®Œï¼Œåé¢çš„loaderè¿˜ä¼šç»§ç»­æç¤ºï¼Œæ¯”å¦‚é‡å¤æ˜¾ç¤ºerrorï¼Œè°ƒè¯•è¿‡ç¨‹ç®€ç›´æœ€å¼ºå¤§è„‘æœ‰æœ¨æœ‰ï¼‰</p>
<p>æ‰€ä»¥å°½ç®¡å¯ä»¥å®ç°<strong>åªæç¤ºè€Œä¸å½±å“ç¼–è¯‘æµç¨‹</strong>çš„ç›®æ ‡ï¼Œä½†åˆå¸¦æ¥äº†æ–°é—®é¢˜ï¼Œè™½ç„¶ç®€å•å¿«æ·ä½†å¹¶ä¸ä¼˜é›…ï¼Œä¹Ÿæ²¡æœ‰è®©eslintå‘æŒ¥å‡ºä»€ä¹ˆä½œç”¨ï¼ˆå¯¹éå¼ºè¿«ç—‡æ‚£è€…ï¼Œä»…æç¤ºè¿˜æ˜¯æ‹¦ä¸ä½çš„å„ç§è¯¡å¼‚é£æ ¼çš„ï¼‰ã€‚<br><strong>è¿™å°±æ˜¯ä¸æ¨èçš„ç†ç”±ã€‚</strong>æ€»ä¹‹blablaè¿™ä¹ˆå¤šï¼Œå°±æ˜¯æƒ³è¯´ä¸‹é¢è¿™å¥è¯ã€‚</p>
<h3 id="ä¸æƒ³ç”¨å°±åˆ«ç¡¬ç”¨"><a href="#ä¸æƒ³ç”¨å°±åˆ«ç¡¬ç”¨" class="headerlink" title="ä¸æƒ³ç”¨å°±åˆ«ç¡¬ç”¨"></a>ä¸æƒ³ç”¨å°±åˆ«ç¡¬ç”¨</h3><p>å®åœ¨ä¸èƒ½æ¥å—ï¼Œé‚£å°±å¹²æ‰å§ï¼Œæ¨èä¸‹é¢çš„æ–¹å¼ã€‚</p>
<ul>
<li>1ã€<a href="https://github.com/Thunf/grace-vue-webpack-boilerplate#fork-it-and-make-your-own" target="_blank" rel="external">Fork It And Make Your Own</a></li>
<li><p>2ã€Comment out or delete the codes below (the part between comments):</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// build/webpack.base.conf.js</span></div><div class="line">...</div><div class="line">module: &#123;</div><div class="line">  <span class="attr">rules</span>: [</div><div class="line">    <span class="comment">/* ==================== eslint =================== */</span> </div><div class="line">    <span class="comment">/* If eslint makes you mad, just delete these code */</span></div><div class="line">    &#123;</div><div class="line">      <span class="attr">test</span>: <span class="regexp">/\.(js|vue)$/</span>,</div><div class="line">      <span class="attr">loader</span>: <span class="string">'eslint-loader'</span>,</div><div class="line">      <span class="attr">enforce</span>: <span class="string">"pre"</span>,</div><div class="line">      <span class="attr">include</span>: [resolve(<span class="string">'vues'</span>), resolve(<span class="string">'test'</span>)],</div><div class="line">      <span class="attr">options</span>: &#123;</div><div class="line">        <span class="attr">formatter</span>: <span class="built_in">require</span>(<span class="string">'eslint-friendly-formatter'</span>)</div><div class="line">      &#125;</div><div class="line">    &#125;,</div><div class="line">    <span class="comment">/* ================== eslint end ================= */</span></div><div class="line">    ...</div><div class="line">  ]</div><div class="line">  ...</div><div class="line">&#125;</div><div class="line">...</div></pre></td></tr></table></figure>
</li>
<li><p>3ã€Enjoy your code : )</p>
</li>
</ul>
<h2 id="å…¶ä»–é—®é¢˜"><a href="#å…¶ä»–é—®é¢˜" class="headerlink" title="å…¶ä»–é—®é¢˜"></a>å…¶ä»–é—®é¢˜</h2><h3 id="æŠ¥é”™ä¿¡æ¯ä¸æ˜¾ç¤º"><a href="#æŠ¥é”™ä¿¡æ¯ä¸æ˜¾ç¤º" class="headerlink" title="æŠ¥é”™ä¿¡æ¯ä¸æ˜¾ç¤º"></a>æŠ¥é”™ä¿¡æ¯ä¸æ˜¾ç¤º</h3><p>æœ‰å°ä¼™ä¼´ååº”è¿™ä¸€ç°è±¡ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚å…¶å®è¿™è·Ÿä¸ªäººä½¿ç”¨çš„terminalé…è‰²æ–¹æ¡ˆæœ‰å…³ï¼ˆwebpackæ˜¾ç¤ºé”™è¯¯ä»£ç çš„é¢œè‰²ï¼Œæ­£å¥½è·Ÿterminalçš„èƒŒæ™¯è‰²ç›¸åŒï¼Œå°±çœ‹ä¸åˆ°äº†å˜›ï¼‰ï¼Œ<a href="#avoidTerminalColorGray">æŸ¥çœ‹è§£å†³æ–¹æ¡ˆ</a>ã€‚</p>
<p><img src="//cdn.thunf.cn/20170217215953.png" alt="problem: terminal-color-gray"></p>
<p>ç»è¿‡è°ƒè¯•ï¼Œå‘ç°è¿™ç§æç¤ºæ˜¯ç”±<a href="https://github.com/royriojas/eslint-friendly-formatter/blob/master/index.js#L35" target="_blank" rel="external">eslint-friendly-formatter</a>æ‰“å°å‡ºæ¥çš„ï¼Œæ ¹æ®æºç æ˜¾ç¤ºï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">...</div><div class="line">var parseBoolEnvVar = <span class="function"><span class="keyword">function</span>(<span class="params">varName</span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> env = process.env || &#123; &#125;;</div><div class="line">  <span class="keyword">return</span> env[varName] === <span class="string">'true'</span>;</div><div class="line">&#125;;</div><div class="line"><span class="keyword">var</span> subtleLog = <span class="function"><span class="keyword">function</span>(<span class="params">args</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> parseBoolEnvVar(<span class="string">'EFF_NO_GRAY'</span>) ? args : chalk.gray(args);</div><div class="line">&#125;;</div><div class="line">...</div></pre></td></tr></table></figure>
<h4 id="avoidTerminalColorGray"><a href="#avoidTerminalColorGray" class="headerlink" title="avoidTerminalColorGray"></a>avoidTerminalColorGray</h4><p>åªéœ€é…ç½®<code>process.env.EFF_NO_GRAY = true</code>å³å¯é˜»æ­¢ä½¿ç”¨chalk.grayæ˜¾ç¤ºæ–‡å­—ã€‚<br>é‚£ä¹ˆè¿™ä¸ªé…ç½®ä¹Ÿå°†<strong>åŠ å…¥é¡¹ç›®çš„é…ç½®æ–‡ä»¶ï¼Œå¦‚ä¸‹é…ç½®</strong>å³å¯</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// build/config/index.js</span></div><div class="line">  ...</div><div class="line">  devConf = &#123;</div><div class="line">    ...</div><div class="line">    avoidTerminalColorGray: <span class="literal">true</span></div><div class="line">  &#125;;</div><div class="line">  ...</div></pre></td></tr></table></figure>
<h2 id="NEXT"><a href="#NEXT" class="headerlink" title="NEXT"></a>NEXT</h2><h3 id="æŠ½å–ä»£ç ï¼ˆTODOï¼‰"><a href="#æŠ½å–ä»£ç ï¼ˆTODOï¼‰" class="headerlink" title="æŠ½å–ä»£ç ï¼ˆTODOï¼‰"></a>æŠ½å–ä»£ç ï¼ˆTODOï¼‰</h3><p>æœ‰æ—¶é—´å°†æŠ½ç¦»<strong>æå‡å¼€å‘æ•ˆç‡</strong>éƒ¨åˆ†çš„é€»è¾‘ä¸ºæ’ä»¶ï¼Œä»¥å¸®åŠ©æ›´å¤šå…¶ä»–æŠ€æœ¯æ ˆçš„Koa-graceé¡¹ç›®æ›´å¥½çš„æå‡å¼€å‘ä½“éªŒã€‚</p>
<h3 id="è‡ªåŠ¨åˆ›å»ºæ–°å…¥å£ï¼ˆTODOï¼‰"><a href="#è‡ªåŠ¨åˆ›å»ºæ–°å…¥å£ï¼ˆTODOï¼‰" class="headerlink" title="è‡ªåŠ¨åˆ›å»ºæ–°å…¥å£ï¼ˆTODOï¼‰"></a>è‡ªåŠ¨åˆ›å»ºæ–°å…¥å£ï¼ˆTODOï¼‰</h3><p>å·²ç»æœ‰åŒå­¦æå‡ºéœ€è¦è‡ªåŠ¨åˆ›å»ºæ–°å…¥å£çš„è„šæœ¬åŠå‘½ä»¤ï¼Œè¿™ä¸ªè¿‘æœŸä¹Ÿä¼šæä¾›ï¼ˆæ¯æ¬¡æ·»åŠ æ–°å…¥å£è¦åˆ›å»ºå¥½å‡ ä¸ªæ–‡ä»¶å¤¹åŠæ–‡ä»¶ä¹Ÿæ˜¯éº»çƒ¦ï¼‰</p>
<h3 id="çƒ­åŠ è½½ï¼ˆTODOï¼‰"><a href="#çƒ­åŠ è½½ï¼ˆTODOï¼‰" class="headerlink" title="çƒ­åŠ è½½ï¼ˆTODOï¼‰"></a>çƒ­åŠ è½½ï¼ˆTODOï¼‰</h3><p>è¯¥åŠŸèƒ½åœ¨åŸæ¨¡æ¿ä¸­å­˜åœ¨ï¼Œä½†å‡çº§å¤šå…¥å£åï¼Œserverå°†ç”±Koa-graceæ¥ç®¡ï¼Œç›®å‰å·²ç§»é™¤è¯¥éƒ¨åˆ†ä»£ç ï¼Œä¸‹ä¸€æ­¥è€ƒè™‘æ·»åŠ Koa-graceçš„ä¸­é—´ä»¶ï¼Œæ¥é…åˆå®Œæˆvueé¡¹ç›®çš„çƒ­åŠ è½½æ–¹æ¡ˆ</p>
<h3 id="éœ€è¦å»ºè®®oræ„è§"><a href="#éœ€è¦å»ºè®®oræ„è§" class="headerlink" title="éœ€è¦å»ºè®®oræ„è§"></a>éœ€è¦å»ºè®®oræ„è§</h3><p>æ¬¢è¿è¯•ç”¨ &amp; Stars</p>
<style>
  .fix-li-img + p + ul img{
    display: inline-block;
    vertical-align: sub;
  }
</style>

<p><div class="fix-li-img"></div></p>
<ul>
<li><img src="https://img.shields.io/github/stars/xiongwilee/koa-grace.svg?label=%E2%98%85" alt=""> <strong>å…¨æ–°çš„åŸºäºKoa@v2.xçš„MVC+RESTfulæ¶æ„çš„å‰åç«¯åˆ†ç¦»æ¡†æ¶ <a href="https://github.com/xiongwilee/koa-grace" target="_blank" rel="external">Koa-grace@2.0</a></strong></li>
<li><img src="https://img.shields.io/github/stars/Thunf/grace-vue-webpack-boilerplate.svg?label=%E2%98%85" alt=""> <strong>åŸºäºKoa-graceçš„å¤šå…¥å£Vue@2.xé¡¹ç›®æ„å»ºæ–¹æ¡ˆ ğŸš€ <a href="https://github.com/Thunf/grace-vue-webpack-boilerplate" target="_blank" rel="external">Grace-vue-webpack-boilerplate</a></strong></li>
</ul>
<p>å¦‚æœä½ æœ‰å…¶ä»–é¡¹ç›®éœ€è¦é…ç½®Vue@2.xé¡¹ç›®å¤šå…¥å£æ–¹æ¡ˆï¼Œä¹Ÿæ¬¢è¿åŠ å…¥æˆ‘ä»¬çš„ç¾¤äº¤æµ~</p>
<p><img src="//cdn.thunf.cn/20170217215954.png" alt="Koa-graceäº¤æµç¾¤"></p>

        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    

            
    
        <a href="//thunf.cn/2017/02/17/20170217-grace-vue-boilerplate/#comments" class="article-comment-link disqus-comment-count" data-disqus-url="//thunf.cn/2017/02/17/20170217-grace-vue-boilerplate/">Comments</a>
    

        </footer>
    </div>
    
        
<nav id="article-nav">
    
        <a href="/2017/10/20/20171019-qudian-ipo-h5/" id="article-nav-newer" class="article-nav-link-wrap">
            <strong class="article-nav-caption">ä¸Šä¸€ç¯‡</strong>
            <div class="article-nav-title">
                
                    ä»ç­–åˆ’åˆ°ä¼ æ’­ - è®°è¶£åº—IPOå¿«é—ªH5å¼€å‘å…¨è¿‡ç¨‹
                
            </div>
        </a>
    
    
        <a href="/2017/01/20/20170120-form-keys-1000-limit/" id="article-nav-older" class="article-nav-link-wrap">
            <strong class="article-nav-caption">ä¸‹ä¸€ç¯‡</strong>
            <div class="article-nav-title">è¸©å‘parameterLimit - ç¥ç§˜çš„1000parseé™åˆ¶</div>
        </a>
    
</nav>


    
</article>


    
    <section id="comments">
    
        
    <div id="disqus_thread">
        <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>

    
    </section>

</section>
            <section id="side">
                
                    
<aside id="profile">
    <div class="inner profile-inner">
        <div class="base-info profile-block">
            <img id="avatar" src="/css/images/avatar.png" />
            <h2 id="name">Thunf</h2>
            <h3 id="title">æ²‰é†‰ä¸çŸ¥å½’è·¯</h3>
            <span id="location"><i class="fa fa-map-marker"></i>Beijing, China</span>
            <a id="follow" target="_blank" href="https://github.com/thunf/">FOLLOW</a>
        </div>
        <div class="article-info profile-block">
            <div class="article-info-block">
                <a class="profile-link" href="/archives" >
                    6
                    <span>æ–‡ç« </span>
                </a>                
            </div>
            <div class="article-info-block">
                <a class="profile-link" href="/tags" >
                    9
                    <span>æ ‡ç­¾</span>
                </a>                
            </div>
        </div>
        
        <div class="profile-block social-links">
            <table>
                <tr>
                    
                    <td><a href="https://github.com/thunf" target="_blank" title="github"><i class="fa fa-github"></i></a></td>
                    
                </tr>
            </table>
        </div>
        
    </div>
</aside>

                
                
                    <aside id="sidebar">
    
        
    <div class="widget-wrap">
        <h3 class="widget-title">æœ€æ–°æ–‡ç« </h3>
        <div class="widget">
            <ul id="recent-post" class="">
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2017/10/20/20171019-qudian-ipo-h5/" class="thumbnail">
    
    
        <span style="background-image:url(//img003.qufenqi.com/products/99/92/9992ff0d94a9aed7d83755f892ccf2a8.png)" alt="ä»ç­–åˆ’åˆ°ä¼ æ’­ - è®°è¶£åº—IPOå¿«é—ªH5å¼€å‘å…¨è¿‡ç¨‹" class="thumbnail-image"></span>
    
</a>
                        </div>
                        
                        <div class="item-inner">
                            <p class="item-title"><a href="/2017/10/20/20171019-qudian-ipo-h5/" class="title">ä»ç­–åˆ’åˆ°ä¼ æ’­ - è®°è¶£åº—IPOå¿«é—ªH5å¼€å‘å…¨è¿‡ç¨‹</a></p>
                            <p class="item-date"><time datetime="2017-10-20T10:50:35.000Z" itemprop="datePublished">2017-10-20</time></p>
                            <p class="item-category"></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2017/02/17/20170217-grace-vue-boilerplate/" class="thumbnail">
    
    
        <span style="background-image:url(//cdn.thunf.cn/20170217215907.jpg)" alt="å‰åç«¯åˆ†ç¦»ä¹‹è·¯ - Vue2é¡¹ç›®å¤šå…¥å£æ¨¡æ¿æ”¹é€ æ–¹æ¡ˆ" class="thumbnail-image"></span>
    
</a>
                        </div>
                        
                        <div class="item-inner">
                            <p class="item-title"><a href="/2017/02/17/20170217-grace-vue-boilerplate/" class="title">å‰åç«¯åˆ†ç¦»ä¹‹è·¯ - Vue2é¡¹ç›®å¤šå…¥å£æ¨¡æ¿æ”¹é€ æ–¹æ¡ˆ</a></p>
                            <p class="item-date"><time datetime="2017-02-17T13:59:07.000Z" itemprop="datePublished">2017-02-17</time></p>
                            <p class="item-category"></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2017/01/20/20170120-form-keys-1000-limit/" class="thumbnail">
    
    
        <span style="background-image:url(//img003.qufenqi.com/products/6b/16/6b16f016aa06578523cec21b21c1f8bd.jpg)" alt="è¸©å‘parameterLimit - ç¥ç§˜çš„1000parseé™åˆ¶" class="thumbnail-image"></span>
    
</a>
                        </div>
                        
                        <div class="item-inner">
                            <p class="item-title"><a href="/2017/01/20/20170120-form-keys-1000-limit/" class="title">è¸©å‘parameterLimit - ç¥ç§˜çš„1000parseé™åˆ¶</a></p>
                            <p class="item-date"><time datetime="2017-01-20T14:31:52.000Z" itemprop="datePublished">2017-01-20</time></p>
                            <p class="item-category"></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2016/12/25/20161225-ali-ar/" class="thumbnail">
    
    
        <span style="background-image:url(//cdn.thunf.cn/20170211215953.png)" alt="å¦‚ä½•ä¼˜é›…çš„åœ¨å®¶æŠ¢é‚»å±…çš„çº¢åŒ…" class="thumbnail-image"></span>
    
</a>
                        </div>
                        
                        <div class="item-inner">
                            <p class="item-title"><a href="/2016/12/25/20161225-ali-ar/" class="title">å¦‚ä½•ä¼˜é›…çš„åœ¨å®¶æŠ¢é‚»å±…çš„çº¢åŒ…</a></p>
                            <p class="item-date"><time datetime="2016-12-25T04:23:18.000Z" itemprop="datePublished">2016-12-25</time></p>
                            <p class="item-category"></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2016/03/03/20160303-blog-resolve-dns/" class="thumbnail">
    
    
        <span style="background-image:url(//cdn.thunf.cn/20160303133303.jpg)" alt="æŠŠåšå®¢æ‰˜ç®¡åˆ°githubå’Œcoding" class="thumbnail-image"></span>
    
</a>
                        </div>
                        
                        <div class="item-inner">
                            <p class="item-title"><a href="/2016/03/03/20160303-blog-resolve-dns/" class="title">æŠŠåšå®¢æ‰˜ç®¡åˆ°githubå’Œcoding</a></p>
                            <p class="item-date"><time datetime="2016-03-03T05:33:03.000Z" itemprop="datePublished">2016-03-03</time></p>
                            <p class="item-category"></p>
                        </div>
                    </li>
                
            </ul>
        </div>
    </div>

    
        
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">Links</h3>
        <div class="widget">
            <ul>
                
                    <li>
                        <a href="http://hexo.io">Hexo</a>
                    </li>
                
            </ul>
        </div>
    </div>


    
    <div id="toTop" class="fa fa-chevron-up"></div>
</aside>
                
            </section>
        </div>
        <footer id="footer">
    <div class="outer">
        <div id="footer-info" class="inner">
            &copy; 2018 thunf.cn
            <span id="busuanzi_container_site_pv">å·²è¢«å›´è§‚<span id="busuanzi_value_site_pv"></span>æ¬¡</span>
            <br>
            Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>.
            Theme from <a href="https://github.com/Thunf/hexo-theme-icarus" target="_blank">icarus</a>
        </div>
    </div>
</footer>
        
    
    <script>
    var disqus_shortname = 'thunf';
    
    
    var disqus_url = '//thunf.cn/2017/02/17/20170217-grace-vue-boilerplate/';
    
    (function() {
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
    </script>



    
        <script src="/vendor/fancybox/jquery.fancybox.pack.js"></script>
    


<!-- Custom Scripts -->
<script src="/js/main.js"></script>

<!-- ä¸è’œå­ -->
<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<!-- ç™¾åº¦ -->
<script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?6fc1b43affd6180387495d5ae9845650";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
</script>
    </div>
</body>
</html>